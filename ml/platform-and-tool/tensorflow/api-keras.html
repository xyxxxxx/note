
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="xyx">
      
      
        <link rel="canonical" href="https://xyxxxxx.github.io/note/ml/platform-and-tool/tensorflow/api-keras.html">
      
      
        <link rel="prev" href="api-image.html">
      
      
        <link rel="next" href="api-linalg.html">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.1">
    
    
      
        <title>API: tf.keras - 笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.45e1311d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tfkeras" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="笔记" class="md-header__button md-logo" aria-label="笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API: tf.keras
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../index.html" class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../math/index.html" class="md-tabs__link">
          
  
    
  
  数学

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../cs/dsa/data-structure/index.html" class="md-tabs__link">
          
  
    
  
  CS

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../python/index.html" class="md-tabs__link">
          
  
    
  
  Python

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../index.html" class="md-tabs__link">
          
  
    
  
  机器学习

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference-and-tool/linux/linux-command.html" class="md-tabs__link">
          
  
    
  
  参考和工具

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../web/simple-html.html" class="md-tabs__link">
          
  
    
  
  前端

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="笔记" class="md-nav__button md-logo" aria-label="笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    笔记
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数学
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            数学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/algebra/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    代数
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            代数
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/algebra/elementary-algebra.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础代数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/algebra/linear-algebra.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性代数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/algebra/linear-algebra-understanding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性代数理解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/algebra/abstract-algebra.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    抽象代数
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/analysis/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    分析
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/analysis/calculus.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微积分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/analysis/multivariate-calculus.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多元微积分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/analysis/matrix-calculus.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    矩阵微积分
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/analysis/differential-equation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    微分方程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/analysis/complex-analysis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    复分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/analysis/mathematical-physics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数学物理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/applied-mathematics/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    应用数学
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            应用数学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/applied-mathematics/optimization/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数学优化
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            数学优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/optimization/convex-set.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    凸集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/optimization/convex-function.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    凸函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/optimization/convex-optimization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    凸优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/optimization/duality.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    对偶性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/optimization/nlp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    非线性优化
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/applied-mathematics/probability-theory-and-mathematical-statistics/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    概率论与数理统计
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4_3" id="__nav_2_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_3">
            <span class="md-nav__icon md-icon"></span>
            概率论与数理统计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/probability-theory-and-mathematical-statistics/probability-of-event.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    事件的概率
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/probability-theory-and-mathematical-statistics/random-variable.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    随机变量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/probability-theory-and-mathematical-statistics/limit-theorems.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    极限定理
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/applied-mathematics/stochastic-process/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    随机过程
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4_4" id="__nav_2_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4_4">
            <span class="md-nav__icon md-icon"></span>
            随机过程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/stochastic-process/stochastic-process-introduction.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    随机过程基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/stochastic-process/markov-chain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    马尔可夫链
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/applied-mathematics/stochastic-process/poisson-process.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    泊松过程
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../math/discrete-mathematics/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    离散数学
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            离散数学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/discrete-mathematics/mathematical-logic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数学逻辑
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/discrete-mathematics/set-theory.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    集合论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/discrete-mathematics/enumerative-combinatorics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    组合数学
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/discrete-mathematics/polynomial.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多项式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/discrete-mathematics/graph-theory.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图论
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/discrete-mathematics/number-theory.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数论
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    CS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构与算法
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            数据结构与算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cs/dsa/data-structure/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数据结构
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            数据结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/data-structure/array-and-linked-list.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数组和链表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/data-structure/stack-and-queue.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    栈和队列
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/data-structure/binary-search-tree.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    二叉搜索树
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/data-structure/hash-table.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    哈希表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/data-structure/graph.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/data-structure/heap.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    堆
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cs/dsa/algorithm/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    算法
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/common-algorithm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/divide-and-conquer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    分而治之
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/dynamic-programming.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    动态规划
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/greedy-algorithm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    贪心算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/backtracking.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    回溯法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/network-flow-algorithm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网络流算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/algorithm/linear-programming.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    线性规划
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/dsa/leetcode-examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Leetcode 例题
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cs/net/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    网络
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cs/net/net-model/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    网络模型
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            网络模型
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/net/net-model/transport-layer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    传输层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/net/net-model/network-layer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网络层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/net/net-model/application-layer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    应用层
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cs/information-theory/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    信息论
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            信息论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs/information-theory/entropy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    熵、相对熵与互信息
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../python/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Python
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/runtime-environment-devtool.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    运行环境与开发工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/data-type-and-operation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据类型与操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/function.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/control-flow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    控制流
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/container-type.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    容器类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/iterator-and-generator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    迭代器与生成器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/oop.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面向对象编程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/io.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/process-and-thread.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进程与线程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/error-handling-and-unit-test.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    错误处理与单元测试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/module-and-package.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模块与包
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../python/standard-library/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    标准库
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_13" id="__nav_4_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_13">
            <span class="md-nav__icon md-icon"></span>
            标准库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/argparse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    argparse——命令行选项、参数和子命令解析器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/base64.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base64——Base16, Base32, Base64, Base85 数据编码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/builtins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    builtins——内建对象
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/collections.abc.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    collections.abc——容器的抽象基类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/collections.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    collections——容器数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/configparser.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    configparser——配置文件解析器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/concurrent.futures.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    concurrent.futures——启动并行任务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/copy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    copy——浅层和深层复制操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/csv.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    csv——CSV 文件读写
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/datetime.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    datetime——基本日期和时间类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/enum.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    enum——对枚举的支持
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    内置函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/functools.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    functools——高阶函数和可调用对象上的操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/glob.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    glob——Unix 风格路径名模式扩展
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/graphlib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    graphlib——操作类似图的结构的功能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/hashlib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hashlib——安全哈希与消息摘要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/hmac.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hmac——基于密钥的消息验证
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/importlib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    importlib——import 的实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/inspect.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    inspect——检查对象
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/io.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    io——处理流的核心工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/itertools.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    itertools——为高效循环而创建迭代器的函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/json.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json——JSON 编码和解码器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/keyword.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    keyword——检验 Python 关键字
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/marshal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    marshal——内部 Python 对象序列化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/math.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    math——数学函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/multiprocessing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multiprocessing——基于进程的并行
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/operator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    operator——标准运算符替代函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/os.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    os——多种操作系统接口
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/os.path.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    os.path——常用路径操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/pathlib.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pathlib——面向对象的文件系统路径
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/pickle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pickle——Python 对象序列化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/platform.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    platform——获取底层平台的标识数据
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/pprint.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pprint——数据美化输出
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/queue.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    queue——一个同步的队列类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/random.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    random——生成伪随机数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/re.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    re——正则表达式操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/secrets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    secrets——生成安全随机数字用于管理密码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/select.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    select——等待 I/O 完成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/shlex.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shlex——简单的词法分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/shutil.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shutil——高阶文件操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/signal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    signal——设置异步事件处理程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/socket.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    socket——底层网络接口
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/subprocess.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subprocess——子进程管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/sys.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sys——系统相关的参数和函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/tarfile.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tarfile——读写 tar 归档文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/tempfile.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tempfile——生成临时文件和目录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/threading.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    threading——基于线程的并行
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/time.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    time——时间的访问和转换
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/timeit.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    timeit——测量小段代码的执行时间
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types——动态类型创建和内置类型名称
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/typing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    typing——类型提示支持
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/urllib.parse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    urllib.parse——用于解析 URL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/urllib.request.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    urllib.request——用于打开 URL 的可扩展库
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/uuid.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uuid——RFC 4122 定义的 UUID 对象
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/weakref.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    weakref——弱引用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/standard-library/zipfile.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    zipfile——使用 ZIP 存档
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../python/common-library/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    常用库
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_14" id="__nav_4_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_14">
            <span class="md-nav__icon md-icon"></span>
            常用库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/beautifulsoup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BeautifulSoup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/click.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    click
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/filelock.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    filelock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/pillow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pillow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/pyyaml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyYAML (yaml)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/requests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    requests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/rich.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rich
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/common-library/websocket-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    websocket-client (websocket)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/style-guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    风格指南
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    机器学习
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    统计学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            统计学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statistical-learning/regression.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    回归
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statistical-learning/nb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    朴素贝叶斯
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statistical-learning/perceptron.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    感知器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statistical-learning/svm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    支持向量机
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    深度学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            深度学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/fnn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前馈神经网络（FNN）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/cnn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    卷积神经网络（CNN）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/rnn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    循环神经网络（RNN）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/embedding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    嵌入
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/seq2seq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    序列到序列模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/transformer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transformer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/self-supervised.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自监督学习模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/gan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    生成对抗网络（GAN）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/rl.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    强化学习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deep-learning/auto-learning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自动学习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    常用技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            常用技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/optimization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/normalization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    归一化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/generalization.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    泛化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/anomaly-detection.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    异常检测
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/adversarial-attack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    对抗攻击
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/explainable-ml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模型可解释性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/transfer-learning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    迁移学习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/model-compression.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    模型压缩
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technique/life-long-learning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    终身学习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../nlp/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    自然语言处理专题
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            自然语言处理专题
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/text-processing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文本处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/language-model.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    语言模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/sentiment-classification.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    朴素贝叶斯和情感分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/logistic-regression.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    逻辑回归
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/embedding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    嵌入
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/neural-network.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    神经网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/part-of-speech-tagging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    词性标注和命名实体检测
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../distributed/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    分布式训练
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            分布式训练
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    平台和工具
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            平台和工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../numpy/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    NumPy
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7_2" id="__nav_5_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_2">
            <span class="md-nav__icon md-icon"></span>
            NumPy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../numpy/get-started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快速入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../numpy/api.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../pandas/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    pandas
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7_3" id="__nav_5_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_3">
            <span class="md-nav__icon md-icon"></span>
            pandas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pandas/get-started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快速入门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pandas/api.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../matplotlib/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    matplotlib
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7_4" id="__nav_5_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_4">
            <span class="md-nav__icon md-icon"></span>
            matplotlib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../matplotlib/example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    示例
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    TensorFlow
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7_5" id="__nav_5_7_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_7_5">
            <span class="md-nav__icon md-icon"></span>
            TensorFlow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tensorflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TensorFlow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-tf.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-data.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-distribute.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.distribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-image.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API: tf.keras
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="api-keras.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API: tf.keras
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#activations" class="md-nav__link">
    <span class="md-ellipsis">
      activations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="activations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elu" class="md-nav__link">
    <span class="md-ellipsis">
      elu()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relu" class="md-nav__link">
    <span class="md-ellipsis">
      relu()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sigmoid" class="md-nav__link">
    <span class="md-ellipsis">
      sigmoid()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#softmax" class="md-nav__link">
    <span class="md-ellipsis">
      softmax()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tanh" class="md-nav__link">
    <span class="md-ellipsis">
      tanh()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      callbacks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#callback" class="md-nav__link">
    <span class="md-ellipsis">
      Callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#earlystopping" class="md-nav__link">
    <span class="md-ellipsis">
      EarlyStopping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambdacallback" class="md-nav__link">
    <span class="md-ellipsis">
      LambdaCallback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learningratescheduler" class="md-nav__link">
    <span class="md-ellipsis">
      LearningRateScheduler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modelcheckpoint" class="md-nav__link">
    <span class="md-ellipsis">
      ModelCheckpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tensorboard" class="md-nav__link">
    <span class="md-ellipsis">
      TensorBoard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datasets" class="md-nav__link">
    <span class="md-ellipsis">
      datasets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="datasets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cifar10" class="md-nav__link">
    <span class="md-ellipsis">
      cifar10
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cifar10">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_data" class="md-nav__link">
    <span class="md-ellipsis">
      load_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cifar100" class="md-nav__link">
    <span class="md-ellipsis">
      cifar100
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cifar100">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_data_1" class="md-nav__link">
    <span class="md-ellipsis">
      load_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mnist" class="md-nav__link">
    <span class="md-ellipsis">
      mnist
    </span>
  </a>
  
    <nav class="md-nav" aria-label="mnist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_data_2" class="md-nav__link">
    <span class="md-ellipsis">
      load_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layers" class="md-nav__link">
    <span class="md-ellipsis">
      layers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="layers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dense" class="md-nav__link">
    <span class="md-ellipsis">
      Dense
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conv2d" class="md-nav__link">
    <span class="md-ellipsis">
      Conv2D
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maxpool2d" class="md-nav__link">
    <span class="md-ellipsis">
      MaxPool2D
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplernn" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleRNN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lstm" class="md-nav__link">
    <span class="md-ellipsis">
      LSTM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gru" class="md-nav__link">
    <span class="md-ellipsis">
      GRU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bidirectional" class="md-nav__link">
    <span class="md-ellipsis">
      Bidirectional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropout" class="md-nav__link">
    <span class="md-ellipsis">
      Dropout
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#losses" class="md-nav__link">
    <span class="md-ellipsis">
      losses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="losses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binarycrossentropy" class="md-nav__link">
    <span class="md-ellipsis">
      BinaryCrossentropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categoricalcrossentropy" class="md-nav__link">
    <span class="md-ellipsis">
      CategoricalCrossentropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cosinesimilarity" class="md-nav__link">
    <span class="md-ellipsis">
      CosineSimilarity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hinge" class="md-nav__link">
    <span class="md-ellipsis">
      Hinge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kldiverence" class="md-nav__link">
    <span class="md-ellipsis">
      KLDiverence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loss" class="md-nav__link">
    <span class="md-ellipsis">
      Loss
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meanabsoluteerror" class="md-nav__link">
    <span class="md-ellipsis">
      MeanAbsoluteError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meansquareerror" class="md-nav__link">
    <span class="md-ellipsis">
      MeanSquareError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poisson" class="md-nav__link">
    <span class="md-ellipsis">
      Poisson
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduction" class="md-nav__link">
    <span class="md-ellipsis">
      Reduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sparsecategoricalcrossentropy" class="md-nav__link">
    <span class="md-ellipsis">
      SparseCategoricalCrossentropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#squaredhinge" class="md-nav__link">
    <span class="md-ellipsis">
      SquaredHinge
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    <span class="md-ellipsis">
      metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      Accuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binaryaccuracy" class="md-nav__link">
    <span class="md-ellipsis">
      BinaryAccuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BinaryAccuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_1" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categoricalaccuracy" class="md-nav__link">
    <span class="md-ellipsis">
      CategoricalAccuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CategoricalAccuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_2" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falsenegatives" class="md-nav__link">
    <span class="md-ellipsis">
      FalseNegatives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falsepositives" class="md-nav__link">
    <span class="md-ellipsis">
      FalsePositives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kldivergence" class="md-nav__link">
    <span class="md-ellipsis">
      KLDivergence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mean" class="md-nav__link">
    <span class="md-ellipsis">
      Mean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric" class="md-nav__link">
    <span class="md-ellipsis">
      Metric
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Metric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reset_state" class="md-nav__link">
    <span class="md-ellipsis">
      reset_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#result" class="md-nav__link">
    <span class="md-ellipsis">
      result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_state_3" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#precision" class="md-nav__link">
    <span class="md-ellipsis">
      Precision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recall" class="md-nav__link">
    <span class="md-ellipsis">
      Recall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum" class="md-nav__link">
    <span class="md-ellipsis">
      Sum
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sum">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_4" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truenegatives" class="md-nav__link">
    <span class="md-ellipsis">
      TrueNegatives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TrueNegatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_5" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truepositives" class="md-nav__link">
    <span class="md-ellipsis">
      TruePositives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TruePositives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_6" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compile" class="md-nav__link">
    <span class="md-ellipsis">
      compile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fit" class="md-nav__link">
    <span class="md-ellipsis">
      fit()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predict" class="md-nav__link">
    <span class="md-ellipsis">
      predict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    <span class="md-ellipsis">
      save()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      summary()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_json" class="md-nav__link">
    <span class="md-ellipsis">
      to_json()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      to_yaml()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_model" class="md-nav__link">
    <span class="md-ellipsis">
      load_model()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_from_config" class="md-nav__link">
    <span class="md-ellipsis">
      model_from_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_from_json" class="md-nav__link">
    <span class="md-ellipsis">
      model_from_json()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_from_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      model_from_yaml()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_model" class="md-nav__link">
    <span class="md-ellipsis">
      save_model()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sequential" class="md-nav__link">
    <span class="md-ellipsis">
      Sequential
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sequential">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#自定义模型" class="md-nav__link">
    <span class="md-ellipsis">
      自定义模型
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizers" class="md-nav__link">
    <span class="md-ellipsis">
      optimizers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="optimizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adadelta" class="md-nav__link">
    <span class="md-ellipsis">
      Adadelta
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adagrad" class="md-nav__link">
    <span class="md-ellipsis">
      Adagrad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adam" class="md-nav__link">
    <span class="md-ellipsis">
      Adam
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimizer" class="md-nav__link">
    <span class="md-ellipsis">
      Optimizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Optimizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apply_gradients" class="md-nav__link">
    <span class="md-ellipsis">
      apply_gradients()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_config_1" class="md-nav__link">
    <span class="md-ellipsis">
      get_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_weights" class="md-nav__link">
    <span class="md-ellipsis">
      get_weights()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimize" class="md-nav__link">
    <span class="md-ellipsis">
      minimize()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_weights" class="md-nav__link">
    <span class="md-ellipsis">
      set_weights()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sgd" class="md-nav__link">
    <span class="md-ellipsis">
      SGD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regularizers" class="md-nav__link">
    <span class="md-ellipsis">
      regularizers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#array_to_img" class="md-nav__link">
    <span class="md-ellipsis">
      array_to_img()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_file" class="md-nav__link">
    <span class="md-ellipsis">
      get_file()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image_dataset_from_directory" class="md-nav__link">
    <span class="md-ellipsis">
      image_dataset_from_directory()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#img_to_array" class="md-nav__link">
    <span class="md-ellipsis">
      img_to_array()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-linalg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.linalg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-math.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-random.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.random
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-signal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.signal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-sparse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.sparse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-strings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.strings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-train.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tf.train
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-tfds.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: tfds
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../pytorch/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    PyTorch
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7_6" id="__nav_5_7_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_6">
            <span class="md-nav__icon md-icon"></span>
            PyTorch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/pytorch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyTorch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/torchvision.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    torchvision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/torchserve.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    torchserve
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-torch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-nn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.nn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-nn-functional.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.nn.functional
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-optim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.optim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-autograd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.autograd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-cuda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.cuda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-backends.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.backends
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-distributed.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.distributed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-multiprocessing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.multiprocessing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-math.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.fft, torch.linalg, torch.special
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-sparse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.sparse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-utils-data.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.utils.data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-utils-tensorboard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: torch.utils.tensorboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pytorch/api-lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API: lightning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../horovod.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    horovod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../nni/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    nni
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_7_8" id="__nav_5_7_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7_8">
            <span class="md-nav__icon md-icon"></span>
            nni
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nni/tuner.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    调参器
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    参考和工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            参考和工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/linux/linux-command.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux 命令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/linux/linux-command-line-tool.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux 命令行工具
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    文件格式
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            文件格式
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/file-format/json.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/file-format/yaml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    yaml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/file-format/xml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    xml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/file-format/markdown.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    markdown
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    编码
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            编码
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/encoding/charset-and-encoding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    字符集和字符编码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/encoding/base64.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base64
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    文本工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            文本工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/text-tool/regular-expression.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    正则表达式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/text-tool/vim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vim
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    构建工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            构建工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/build-tool/make.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    make
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/git.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference-and-tool/vocabulary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    词汇表
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    前端
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            前端
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/simple-html.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple HTML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/simple-css.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple CSS
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#activations" class="md-nav__link">
    <span class="md-ellipsis">
      activations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="activations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elu" class="md-nav__link">
    <span class="md-ellipsis">
      elu()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relu" class="md-nav__link">
    <span class="md-ellipsis">
      relu()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sigmoid" class="md-nav__link">
    <span class="md-ellipsis">
      sigmoid()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#softmax" class="md-nav__link">
    <span class="md-ellipsis">
      softmax()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tanh" class="md-nav__link">
    <span class="md-ellipsis">
      tanh()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      callbacks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#callback" class="md-nav__link">
    <span class="md-ellipsis">
      Callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#earlystopping" class="md-nav__link">
    <span class="md-ellipsis">
      EarlyStopping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambdacallback" class="md-nav__link">
    <span class="md-ellipsis">
      LambdaCallback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learningratescheduler" class="md-nav__link">
    <span class="md-ellipsis">
      LearningRateScheduler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modelcheckpoint" class="md-nav__link">
    <span class="md-ellipsis">
      ModelCheckpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tensorboard" class="md-nav__link">
    <span class="md-ellipsis">
      TensorBoard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datasets" class="md-nav__link">
    <span class="md-ellipsis">
      datasets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="datasets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cifar10" class="md-nav__link">
    <span class="md-ellipsis">
      cifar10
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cifar10">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_data" class="md-nav__link">
    <span class="md-ellipsis">
      load_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cifar100" class="md-nav__link">
    <span class="md-ellipsis">
      cifar100
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cifar100">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_data_1" class="md-nav__link">
    <span class="md-ellipsis">
      load_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mnist" class="md-nav__link">
    <span class="md-ellipsis">
      mnist
    </span>
  </a>
  
    <nav class="md-nav" aria-label="mnist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_data_2" class="md-nav__link">
    <span class="md-ellipsis">
      load_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layers" class="md-nav__link">
    <span class="md-ellipsis">
      layers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="layers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dense" class="md-nav__link">
    <span class="md-ellipsis">
      Dense
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conv2d" class="md-nav__link">
    <span class="md-ellipsis">
      Conv2D
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maxpool2d" class="md-nav__link">
    <span class="md-ellipsis">
      MaxPool2D
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embedding" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplernn" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleRNN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lstm" class="md-nav__link">
    <span class="md-ellipsis">
      LSTM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gru" class="md-nav__link">
    <span class="md-ellipsis">
      GRU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bidirectional" class="md-nav__link">
    <span class="md-ellipsis">
      Bidirectional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropout" class="md-nav__link">
    <span class="md-ellipsis">
      Dropout
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#losses" class="md-nav__link">
    <span class="md-ellipsis">
      losses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="losses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binarycrossentropy" class="md-nav__link">
    <span class="md-ellipsis">
      BinaryCrossentropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categoricalcrossentropy" class="md-nav__link">
    <span class="md-ellipsis">
      CategoricalCrossentropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cosinesimilarity" class="md-nav__link">
    <span class="md-ellipsis">
      CosineSimilarity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hinge" class="md-nav__link">
    <span class="md-ellipsis">
      Hinge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kldiverence" class="md-nav__link">
    <span class="md-ellipsis">
      KLDiverence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loss" class="md-nav__link">
    <span class="md-ellipsis">
      Loss
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meanabsoluteerror" class="md-nav__link">
    <span class="md-ellipsis">
      MeanAbsoluteError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meansquareerror" class="md-nav__link">
    <span class="md-ellipsis">
      MeanSquareError
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poisson" class="md-nav__link">
    <span class="md-ellipsis">
      Poisson
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduction" class="md-nav__link">
    <span class="md-ellipsis">
      Reduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sparsecategoricalcrossentropy" class="md-nav__link">
    <span class="md-ellipsis">
      SparseCategoricalCrossentropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#squaredhinge" class="md-nav__link">
    <span class="md-ellipsis">
      SquaredHinge
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    <span class="md-ellipsis">
      metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accuracy" class="md-nav__link">
    <span class="md-ellipsis">
      Accuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binaryaccuracy" class="md-nav__link">
    <span class="md-ellipsis">
      BinaryAccuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BinaryAccuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_1" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categoricalaccuracy" class="md-nav__link">
    <span class="md-ellipsis">
      CategoricalAccuracy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CategoricalAccuracy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_2" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falsenegatives" class="md-nav__link">
    <span class="md-ellipsis">
      FalseNegatives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falsepositives" class="md-nav__link">
    <span class="md-ellipsis">
      FalsePositives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kldivergence" class="md-nav__link">
    <span class="md-ellipsis">
      KLDivergence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mean" class="md-nav__link">
    <span class="md-ellipsis">
      Mean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric" class="md-nav__link">
    <span class="md-ellipsis">
      Metric
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Metric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reset_state" class="md-nav__link">
    <span class="md-ellipsis">
      reset_state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#result" class="md-nav__link">
    <span class="md-ellipsis">
      result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_state_3" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#precision" class="md-nav__link">
    <span class="md-ellipsis">
      Precision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recall" class="md-nav__link">
    <span class="md-ellipsis">
      Recall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum" class="md-nav__link">
    <span class="md-ellipsis">
      Sum
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sum">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_4" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truenegatives" class="md-nav__link">
    <span class="md-ellipsis">
      TrueNegatives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TrueNegatives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_5" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truepositives" class="md-nav__link">
    <span class="md-ellipsis">
      TruePositives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TruePositives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_state_6" class="md-nav__link">
    <span class="md-ellipsis">
      update_state
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compile" class="md-nav__link">
    <span class="md-ellipsis">
      compile()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluate" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fit" class="md-nav__link">
    <span class="md-ellipsis">
      fit()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_config" class="md-nav__link">
    <span class="md-ellipsis">
      get_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predict" class="md-nav__link">
    <span class="md-ellipsis">
      predict()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    <span class="md-ellipsis">
      save()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      summary()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_json" class="md-nav__link">
    <span class="md-ellipsis">
      to_json()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      to_yaml()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_model" class="md-nav__link">
    <span class="md-ellipsis">
      load_model()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_from_config" class="md-nav__link">
    <span class="md-ellipsis">
      model_from_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_from_json" class="md-nav__link">
    <span class="md-ellipsis">
      model_from_json()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_from_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      model_from_yaml()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_model" class="md-nav__link">
    <span class="md-ellipsis">
      save_model()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sequential" class="md-nav__link">
    <span class="md-ellipsis">
      Sequential
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sequential">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#自定义模型" class="md-nav__link">
    <span class="md-ellipsis">
      自定义模型
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimizers" class="md-nav__link">
    <span class="md-ellipsis">
      optimizers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="optimizers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adadelta" class="md-nav__link">
    <span class="md-ellipsis">
      Adadelta
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adagrad" class="md-nav__link">
    <span class="md-ellipsis">
      Adagrad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adam" class="md-nav__link">
    <span class="md-ellipsis">
      Adam
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimizer" class="md-nav__link">
    <span class="md-ellipsis">
      Optimizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Optimizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apply_gradients" class="md-nav__link">
    <span class="md-ellipsis">
      apply_gradients()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from_config" class="md-nav__link">
    <span class="md-ellipsis">
      from_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_config_1" class="md-nav__link">
    <span class="md-ellipsis">
      get_config()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_weights" class="md-nav__link">
    <span class="md-ellipsis">
      get_weights()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimize" class="md-nav__link">
    <span class="md-ellipsis">
      minimize()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_weights" class="md-nav__link">
    <span class="md-ellipsis">
      set_weights()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sgd" class="md-nav__link">
    <span class="md-ellipsis">
      SGD
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regularizers" class="md-nav__link">
    <span class="md-ellipsis">
      regularizers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#array_to_img" class="md-nav__link">
    <span class="md-ellipsis">
      array_to_img()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_file" class="md-nav__link">
    <span class="md-ellipsis">
      get_file()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image_dataset_from_directory" class="md-nav__link">
    <span class="md-ellipsis">
      image_dataset_from_directory()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#img_to_array" class="md-nav__link">
    <span class="md-ellipsis">
      img_to_array()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="tfkeras">tf.keras<a class="headerlink" href="#tfkeras" title="Permanent link">&para;</a></h1>
<p>在 TensorFlow 中，推荐使用 Keras（<code>tf.keras</code>）构建模型。Keras 是一个广为流行的高级神经网络 API，简单、快速而不失灵活性，现已得到 TensorFlow 的官方内置和全面支持。</p>
<p>Keras 提供了定义和训练任何类型的神经网络模型的便捷方法，具有以下特性：</p>
<ul>
<li>允许代码在 CPU 或 GPU 上运行并且无缝切换</li>
<li>提供用户友好的 API 以使得能够快速建模</li>
<li>提供对于 CNN（for CV），RNN（for time series）的内置支持</li>
<li>支持任意类型的网络结构</li>
</ul>
<p>keras 有两个重要的概念：<strong>模型（model）</strong>和<strong>层（layer）</strong>。层将各种计算流程和变量进行了封装（例如基本的全连接层，CNN 的卷积层、池化层等），而模型则将各种层进行组织和连接，并封装成一个整体，描述了如何将输入数据通过各种层以及运算而得到输出。</p>
<h2 id="activations">activations<a class="headerlink" href="#activations" title="Permanent link">&para;</a></h2>
<h3 id="elu">elu()<a class="headerlink" href="#elu" title="Permanent link">&para;</a></h3>
<p>指数线性单元。</p>
<div class="arithmatex">\[
\begin{aligned}
{\rm elu}(x) &amp; =\max(0,x)+\min(0,\alpha(e^x-1))\\
&amp; =\begin{cases}x,&amp; x\ge0\\\alpha(e^x-1),&amp;x&lt;0 \end{cases}
\end{aligned}
\]</div>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">activations</span><span class="o">.</span><span class="n">elu</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
</code></pre></div>
<h3 id="relu">relu()<a class="headerlink" href="#relu" title="Permanent link">&para;</a></h3>
<p>修正线性单元。</p>
<div class="arithmatex">\[
\begin{aligned}
{\rm relu}(x) &amp; =\max(0,x)\\
&amp; =\begin{cases}x,&amp; x\ge0\\0,&amp;x&lt;0 \end{cases}
\end{aligned}
\]</div>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">activations</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="c1"># 各参数的作用见下列示例</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">activations</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="n">array</span><span class="p">([</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">activations</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">5.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">5.</span> <span class="p">,</span> <span class="mf">10.</span> <span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">activations</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">max_value</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">activations</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span>
</code></pre></div>
<h3 id="sigmoid">sigmoid()<a class="headerlink" href="#sigmoid" title="Permanent link">&para;</a></h3>
<p>Sigmoid 函数（实际上是 Logistic 函数）。</p>
<div class="arithmatex">\[
{\rm sigmoid}(x)=\frac{1}{1+e^{-x}}
\]</div>
<h3 id="softmax">softmax()<a class="headerlink" href="#softmax" title="Permanent link">&para;</a></h3>
<p>Softmax 回归。</p>
<div class="arithmatex">\[
{\rm softmax}(x_k)=\frac{e^{x_k}}{\sum e^{x_i}}
\]</div>
<h3 id="tanh">tanh()<a class="headerlink" href="#tanh" title="Permanent link">&para;</a></h3>
<p>双曲正切函数。</p>
<div class="arithmatex">\[
\tanh(x) = \frac{e^x-e^{-x}}{e^x+e^{-x}}
\]</div>
<h2 id="callbacks">callbacks<a class="headerlink" href="#callbacks" title="Permanent link">&para;</a></h2>
<h3 id="callback">Callback<a class="headerlink" href="#callback" title="Permanent link">&para;</a></h3>
<p>用于创建新回调的抽象类。若要创建回调，继承此类并任意重载以下方法。</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CustomCallback</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">Callback</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_batch_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`on_train_batch_begin`方法的别名,不建议使用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_batch_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;`on_train_batch_end`方法的别名,不建议使用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_epoch_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epoch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在epoch开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_epoch_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">epoch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在epoch结束时调用</span>

<span class="sd">        Args:</span>
<span class="sd">            logs: 字典,当前训练epoch和验证epoch(如果进行了验证)的指标.验证指标的键具有前缀`val_`.</span>
<span class="sd">                  *尽管官方文档(https://keras.io/guides/writing_your_own_callbacks/#a-basic-example)中</span>
<span class="sd">                  表述为epoch的平均指标,但实际上使用的是epoch的最后一个step的指标</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_train_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在训练开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_train_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在训练结束时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_test_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在测试开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_test_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在测试结束时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_predict_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在预测开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_predict_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在预测结束时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_train_batch_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在训练过程的step开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_train_batch_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在训练过程的step结束时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_test_batch_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在验证/测试过程的step开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_test_batch_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在验证/测试过程的step结束时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_predict_batch_begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在预测过程的step开始时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">on_predict_batch_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;在预测过程的step结束时调用&quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div>
<p>调用的顺序如下：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>mnist_custom_callback.py
Model:<span class="w"> </span><span class="s2">&quot;sequential&quot;</span>
_________________________________________________________________
Layer<span class="w"> </span><span class="o">(</span><span class="nb">type</span><span class="o">)</span><span class="w">                 </span>Output<span class="w"> </span>Shape<span class="w">              </span>Param<span class="w"> </span><span class="c1">#   </span>
<span class="o">=================================================================</span>
conv2d<span class="w"> </span><span class="o">(</span>Conv2D<span class="o">)</span><span class="w">              </span><span class="o">(</span>None,<span class="w"> </span><span class="m">26</span>,<span class="w"> </span><span class="m">26</span>,<span class="w"> </span><span class="m">32</span><span class="o">)</span><span class="w">        </span><span class="m">320</span><span class="w">       </span>
_________________________________________________________________
max_pooling2d<span class="w"> </span><span class="o">(</span>MaxPooling2D<span class="o">)</span><span class="w"> </span><span class="o">(</span>None,<span class="w"> </span><span class="m">13</span>,<span class="w"> </span><span class="m">13</span>,<span class="w"> </span><span class="m">32</span><span class="o">)</span><span class="w">        </span><span class="m">0</span><span class="w">         </span>
_________________________________________________________________
conv2d_1<span class="w"> </span><span class="o">(</span>Conv2D<span class="o">)</span><span class="w">            </span><span class="o">(</span>None,<span class="w"> </span><span class="m">11</span>,<span class="w"> </span><span class="m">11</span>,<span class="w"> </span><span class="m">64</span><span class="o">)</span><span class="w">        </span><span class="m">18496</span><span class="w">     </span>
_________________________________________________________________
max_pooling2d_1<span class="w"> </span><span class="o">(</span>MaxPooling2<span class="w"> </span><span class="o">(</span>None,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="m">64</span><span class="o">)</span><span class="w">          </span><span class="m">0</span><span class="w">         </span>
_________________________________________________________________
conv2d_2<span class="w"> </span><span class="o">(</span>Conv2D<span class="o">)</span><span class="w">            </span><span class="o">(</span>None,<span class="w"> </span><span class="m">3</span>,<span class="w"> </span><span class="m">3</span>,<span class="w"> </span><span class="m">64</span><span class="o">)</span><span class="w">          </span><span class="m">36928</span><span class="w">     </span>
_________________________________________________________________
flatten<span class="w"> </span><span class="o">(</span>Flatten<span class="o">)</span><span class="w">            </span><span class="o">(</span>None,<span class="w"> </span><span class="m">576</span><span class="o">)</span><span class="w">               </span><span class="m">0</span><span class="w">         </span>
_________________________________________________________________
dense<span class="w"> </span><span class="o">(</span>Dense<span class="o">)</span><span class="w">                </span><span class="o">(</span>None,<span class="w"> </span><span class="m">64</span><span class="o">)</span><span class="w">                </span><span class="m">36928</span><span class="w">     </span>
_________________________________________________________________
dense_1<span class="w"> </span><span class="o">(</span>Dense<span class="o">)</span><span class="w">              </span><span class="o">(</span>None,<span class="w"> </span><span class="m">10</span><span class="o">)</span><span class="w">                </span><span class="nv">650</span><span class="w">       </span>
<span class="o">=================================================================</span>
Total<span class="w"> </span>params:<span class="w"> </span><span class="m">93</span>,322
Trainable<span class="w"> </span>params:<span class="w"> </span><span class="m">93</span>,322
Non-trainable<span class="w"> </span>params:<span class="w"> </span><span class="m">0</span>
_________________________________________________________________
train<span class="w"> </span>begin<span class="w"> </span>...<span class="w">                    </span><span class="c1"># 训练开始</span>
Epoch<span class="w"> </span><span class="m">1</span>/3
epoch<span class="w"> </span>begin<span class="w"> </span>...<span class="w">                    </span><span class="c1"># 一个训练+验证epoch</span>
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...<span class="w">              </span><span class="c1"># 一个训练batch</span>
<span class="m">1</span>/8<span class="w"> </span><span class="o">[==</span>&gt;...........................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>12s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.3017<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.1182train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">2</span>/8<span class="w"> </span><span class="o">[======</span>&gt;.......................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>7s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2929<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.1495<span class="w"> </span>train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">3</span>/8<span class="w"> </span><span class="o">[==========</span>&gt;...................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>6s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2843<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.1794train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">4</span>/8<span class="w"> </span><span class="o">[==============</span>&gt;...............<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>4s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2756<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.2042train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">5</span>/8<span class="w"> </span><span class="o">[=================</span>&gt;............<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>3s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2664<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.2265train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">6</span>/8<span class="w"> </span><span class="o">[=====================</span>&gt;........<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>2s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2562<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.2468train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">7</span>/8<span class="w"> </span><span class="o">[=========================</span>&gt;....<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>1s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2452<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.2644train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">8</span>/8<span class="w"> </span><span class="o">[==============================]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>0s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2331<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.2803train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>begin<span class="w"> </span>...<span class="w">                     </span><span class="c1"># 验证开始</span>
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...<span class="w">               </span><span class="c1"># 一个验证batch</span>
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>end<span class="w"> </span>...<span class="w">                       </span><span class="c1"># 验证结束</span>
<span class="m">8</span>/8<span class="w"> </span><span class="o">[==============================]</span><span class="w"> </span>-<span class="w"> </span>12s<span class="w"> </span>1s/step<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">2</span>.2236<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.2927<span class="w"> </span>-<span class="w"> </span>val_loss:<span class="w"> </span><span class="m">1</span>.8295<span class="w"> </span>-<span class="w"> </span>val_accuracy:<span class="w"> </span><span class="m">0</span>.6315
epoch<span class="w"> </span>end<span class="w"> </span>...
Epoch<span class="w"> </span><span class="m">2</span>/3
epoch<span class="w"> </span>begin<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">1</span>/8<span class="w"> </span><span class="o">[==</span>&gt;...........................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>8s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.8353<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6113train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">2</span>/8<span class="w"> </span><span class="o">[======</span>&gt;.......................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>7s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.8067<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6215train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">3</span>/8<span class="w"> </span><span class="o">[==========</span>&gt;...................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>6s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.7765<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6298train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">4</span>/8<span class="w"> </span><span class="o">[==============</span>&gt;...............<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>4s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.7455<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6375train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">5</span>/8<span class="w"> </span><span class="o">[=================</span>&gt;............<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>3s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.7140<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6449train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">6</span>/8<span class="w"> </span><span class="o">[=====================</span>&gt;........<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>2s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.6818<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6521train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">7</span>/8<span class="w"> </span><span class="o">[=========================</span>&gt;....<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>1s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.6495<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6591train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">8</span>/8<span class="w"> </span><span class="o">[==============================]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>0s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.6169<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6656train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>end<span class="w"> </span>...
<span class="m">8</span>/8<span class="w"> </span><span class="o">[==============================]</span><span class="w"> </span>-<span class="w"> </span>10s<span class="w"> </span>1s/step<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">1</span>.5917<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.6706<span class="w"> </span>-<span class="w"> </span>val_loss:<span class="w"> </span><span class="m">0</span>.7942<span class="w"> </span>-<span class="w"> </span>val_accuracy:<span class="w"> </span><span class="m">0</span>.8156
epoch<span class="w"> </span>end<span class="w"> </span>...
Epoch<span class="w"> </span><span class="m">3</span>/3
epoch<span class="w"> </span>begin<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">1</span>/8<span class="w"> </span><span class="o">[==</span>&gt;...........................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>8s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.8264<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.7970train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">2</span>/8<span class="w"> </span><span class="o">[======</span>&gt;.......................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>7s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.8112<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.7965train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">3</span>/8<span class="w"> </span><span class="o">[==========</span>&gt;...................<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>5s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7943<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.7967train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">4</span>/8<span class="w"> </span><span class="o">[==============</span>&gt;...............<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>4s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7791<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.7979train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">5</span>/8<span class="w"> </span><span class="o">[=================</span>&gt;............<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>3s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7640<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.7996train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">6</span>/8<span class="w"> </span><span class="o">[=====================</span>&gt;........<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>2s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7498<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.8014train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">7</span>/8<span class="w"> </span><span class="o">[=========================</span>&gt;....<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>1s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7368<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.8030train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="m">8</span>/8<span class="w"> </span><span class="o">[==============================]</span><span class="w"> </span>-<span class="w"> </span>ETA:<span class="w"> </span>0s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7247<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.8048train<span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>end<span class="w"> </span>...
<span class="m">8</span>/8<span class="w"> </span><span class="o">[==============================]</span><span class="w"> </span>-<span class="w"> </span>10s<span class="w"> </span>1s/step<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.7152<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.8062<span class="w"> </span>-<span class="w"> </span>val_loss:<span class="w"> </span><span class="m">0</span>.4754<span class="w"> </span>-<span class="w"> </span>val_accuracy:<span class="w"> </span><span class="m">0</span>.8480
epoch<span class="w"> </span>end<span class="w"> </span>...
train<span class="w"> </span>end<span class="w"> </span>...<span class="w">                      </span><span class="c1"># 训练结束</span>
<span class="nb">test</span><span class="w"> </span>begin<span class="w"> </span>...<span class="w">                     </span><span class="c1"># 测试开始</span>
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...<span class="w">               </span><span class="c1"># 一个测试batch</span>
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>begin<span class="w"> </span>...
<span class="nb">test</span><span class="w"> </span>batch<span class="w"> </span>end<span class="w"> </span>...
<span class="m">5</span>/5<span class="w"> </span>-<span class="w"> </span>1s<span class="w"> </span>-<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.4729<span class="w"> </span>-<span class="w"> </span>accuracy:<span class="w"> </span><span class="m">0</span>.8462
<span class="nb">test</span><span class="w"> </span>end<span class="w"> </span>...<span class="w">                       </span><span class="c1"># 测试结束</span>
</code></pre></div>
<h3 id="earlystopping">EarlyStopping<a class="headerlink" href="#earlystopping" title="Permanent link">&para;</a></h3>
<p>当监视的参数不再改善时提前停止训练。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">EarlyStopping</span><span class="p">(</span>
    <span class="n">monitor</span><span class="o">=</span><span class="s1">&#39;val_loss&#39;</span><span class="p">,</span> <span class="n">min_delta</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">patience</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">baseline</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">restore_best_weights</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="c1"># monitor               监视的指标,可以是&#39;val_loss&#39;,&#39;val_accuracy&#39;,等等</span>
<span class="c1"># min_delta             可以视为改善的最小绝对变化量,换言之,小于该值的指标绝对变化量视为没有改善</span>
<span class="c1"># patience              若最近`patience`次epoch的指标都没有改善(即最后`patience`次的指标都比倒数第</span>
<span class="c1">#                       `patience+1`次差),则停止训练</span>
<span class="c1"># mode                  若为`&#39;min&#39;`,则指标减小视为改善;若为`&#39;max&#39;`,则指标增加视为改善;若为`&#39;auto&#39;`,</span>
<span class="c1">#                       则方向根据指标的名称自动推断</span>
<span class="c1"># baseline              监视的指标的基线值,若指标没有超过基线值则停止训练</span>
<span class="c1"># restore_best_weights  若为`True`,训练结束时会恢复监视指标取最好值的epoch的权重;若为`False`,训练结束时</span>
<span class="c1">#                       会保留最后一个epoch的权重</span>
</code></pre></div>
<h3 id="lambdacallback">LambdaCallback<a class="headerlink" href="#lambdacallback" title="Permanent link">&para;</a></h3>
<p>创建简单的自定义回调。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">LambdaCallback</span><span class="p">(</span>
    <span class="n">on_epoch_begin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_epoch_end</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_batch_begin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_batch_end</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">on_train_begin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on_train_end</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
<span class="c1"># on_epoch_begin    在每个epoch开始时调用的函数</span>
<span class="c1"># ...</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># 自定义batch回调示例</span>
<span class="n">print_batch_callback</span> <span class="o">=</span> <span class="n">callbacks</span><span class="o">.</span><span class="n">LambdaCallback</span><span class="p">(</span>
    <span class="n">on_batch_end</span><span class="o">=</span><span class="k">lambda</span> <span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">logs</span><span class="p">))</span>  <span class="c1"># 需要两个位置参数: `batch`, `logs`</span>
                                                          <span class="c1"># 分别代表当前batch的序号和指标</span>
<span class="c1"># 训练输出</span>
  <span class="mi">20</span><span class="o">/</span><span class="mi">1500</span> <span class="p">[</span><span class="o">..............................</span><span class="p">]</span> <span class="o">-</span> <span class="n">ETA</span><span class="p">:</span> <span class="mi">18</span><span class="n">s</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">2.2107</span> <span class="o">-</span> <span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.206319</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">2.0734667778015137</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.3140625059604645</span><span class="p">}</span>
<span class="mi">20</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">2.042363405227661</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.331845223903656</span><span class="p">}</span>
<span class="mi">21</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">2.0119757652282715</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.3480113744735718</span><span class="p">}</span>
<span class="mi">22</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">1.9936082363128662</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.3586956560611725</span><span class="p">}</span>
  <span class="mi">24</span><span class="o">/</span><span class="mi">1500</span> <span class="p">[</span><span class="o">..............................</span><span class="p">]</span> <span class="o">-</span> <span class="n">ETA</span><span class="p">:</span> <span class="mi">18</span><span class="n">s</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">2.1762</span> <span class="o">-</span> <span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.230623</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">1.967929720878601</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.3697916567325592</span><span class="p">}</span>
<span class="mi">24</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">1.934678316116333</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.3824999928474426</span><span class="p">}</span>
<span class="mi">25</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">1.9046880006790161</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.39423078298568726</span><span class="p">}</span>
<span class="mi">26</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">1.8743277788162231</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.40509259700775146</span><span class="p">}</span>
<span class="mi">27</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">1.838417887687683</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.4151785671710968</span><span class="p">}</span>  


<span class="c1"># 自定义epoch回调示例</span>
<span class="n">print_epoch_callback</span> <span class="o">=</span> <span class="n">callbacks</span><span class="o">.</span><span class="n">LambdaCallback</span><span class="p">(</span>
    <span class="n">on_epoch_end</span><span class="o">=</span><span class="k">lambda</span> <span class="n">epoch</span><span class="p">,</span> <span class="n">logs</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">epoch</span><span class="p">,</span> <span class="n">logs</span><span class="p">))</span>  <span class="c1"># 需要两个位置参数: `epoch`, `logs`</span>
                                                          <span class="c1"># 分别代表当前epoch的序号和指标</span>
<span class="c1"># 训练输出</span>
<span class="n">Epoch</span> <span class="mi">1</span><span class="o">/</span><span class="mi">10</span>
<span class="mi">1500</span><span class="o">/</span><span class="mi">1500</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">20</span><span class="n">s</span> <span class="mi">13</span><span class="n">ms</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">0.3875</span> <span class="o">-</span> <span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.8781</span> <span class="o">-</span> <span class="n">val_loss</span><span class="p">:</span> <span class="mf">0.0871</span> <span class="o">-</span> <span class="n">val_accuracy</span><span class="p">:</span> <span class="mf">0.9728</span>
<span class="mi">0</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">0.16673415899276733</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.9478958249092102</span><span class="p">,</span> <span class="s1">&#39;val_loss&#39;</span><span class="p">:</span> <span class="mf">0.0870571881532669</span><span class="p">,</span> <span class="s1">&#39;val_accuracy&#39;</span><span class="p">:</span> <span class="mf">0.9728333353996277</span><span class="p">}</span>
<span class="n">Epoch</span> <span class="mi">2</span><span class="o">/</span><span class="mi">10</span>
<span class="mi">1500</span><span class="o">/</span><span class="mi">1500</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">19</span><span class="n">s</span> <span class="mi">13</span><span class="n">ms</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">0.0564</span> <span class="o">-</span> <span class="n">accuracy</span><span class="p">:</span> <span class="mf">0.9816</span> <span class="o">-</span> <span class="n">val_loss</span><span class="p">:</span> <span class="mf">0.0502</span> <span class="o">-</span> <span class="n">val_accuracy</span><span class="p">:</span> <span class="mf">0.9848</span>
<span class="mi">1</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">0.05158458277583122</span><span class="p">,</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="mf">0.9834166765213013</span><span class="p">,</span> <span class="s1">&#39;val_loss&#39;</span><span class="p">:</span> <span class="mf">0.0502360574901104</span><span class="p">,</span> <span class="s1">&#39;val_accuracy&#39;</span><span class="p">:</span> <span class="mf">0.9848333597183228</span><span class="p">}</span>
</code></pre></div>
<h3 id="learningratescheduler">LearningRateScheduler<a class="headerlink" href="#learningratescheduler" title="Permanent link">&para;</a></h3>
<h3 id="modelcheckpoint">ModelCheckpoint<a class="headerlink" href="#modelcheckpoint" title="Permanent link">&para;</a></h3>
<h3 id="tensorboard">TensorBoard<a class="headerlink" href="#tensorboard" title="Permanent link">&para;</a></h3>
<p>为 TensorBoard 可视化记录日志。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">TensorBoard</span><span class="p">(</span>
    <span class="n">log_dir</span><span class="o">=</span><span class="s1">&#39;logs&#39;</span><span class="p">,</span> <span class="n">histogram_freq</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">write_graph</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">write_images</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">update_freq</span><span class="o">=</span><span class="s1">&#39;epoch&#39;</span><span class="p">,</span> <span class="n">profile_batch</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">embeddings_freq</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">embeddings_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
<span class="c1"># log_dir      待TensorBoard解析的日志文件的保存路径</span>
<span class="c1"># update_freq  若为&#39;batch&#39;,则在每个batch结束时记录损失和指标;若为&#39;epoch&#39;,则在每个epoch结束时记录损失和指标;</span>
<span class="c1">#              若为整数,则每update_freq个batch记录一次损失和指标.注意过于频繁地写日志会减慢你的训练.</span>
</code></pre></div>
<h2 id="datasets">datasets<a class="headerlink" href="#datasets" title="Permanent link">&para;</a></h2>
<h3 id="cifar10">cifar10<a class="headerlink" href="#cifar10" title="Permanent link">&para;</a></h3>
<p>CIFAR10 数据集。</p>
<h4 id="load_data">load_data()<a class="headerlink" href="#load_data" title="Permanent link">&para;</a></h4>
<p>同 <code>tf.keras.datasets.mnist.load_data()</code>。</p>
<h3 id="cifar100">cifar100<a class="headerlink" href="#cifar100" title="Permanent link">&para;</a></h3>
<p>CIFAR100 数据集。</p>
<h4 id="load_data_1">load_data()<a class="headerlink" href="#load_data_1" title="Permanent link">&para;</a></h4>
<p>同 <code>tf.keras.datasets.mnist.load_data()</code>。</p>
<h3 id="mnist">mnist<a class="headerlink" href="#mnist" title="Permanent link">&para;</a></h3>
<p>MNIST 数据集。</p>
<h4 id="load_data_2">load_data()<a class="headerlink" href="#load_data_2" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">mnist</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;mnist.npz&#39;</span><span class="p">)</span>
<span class="c1"># path       数据集缓存在本地的路径.若该路径为相对路径,则视作相对于`~/.keras/datasets`的路径;</span>
<span class="c1">#            若该路径不存在,则在线下载并保存到此路径;</span>
</code></pre></div>
<h2 id="layers">layers<a class="headerlink" href="#layers" title="Permanent link">&para;</a></h2>
<p>层是进行数据处理的模块，它输入一个张量，然后输出一个张量。尽管有一些层是无状态的，更多的层都有其权重参数，通过梯度下降法学习。<code>tf.keras.layers</code> 下内置了深度学习中大量常用的的预定义层，同时也允许我们自定义层。</p>
<h3 id="dense">Dense<a class="headerlink" href="#dense" title="Permanent link">&para;</a></h3>
<p>全连接层（densely connected layer，fully connected layer）是 Keras 中最基础和常用的层之一，对输入矩阵 <span class="arithmatex">\(A\)</span> 进行 <span class="arithmatex">\(f(A\pmb w+b)\)</span> 的线性变换 + 激活函数操作。如果不指定激活函数,即是纯粹的线性变换 <span class="arithmatex">\(A\pmb w+b\)</span>。具体而言，给定输入张量 <code>input =[batch_size,input_dim]</code>，该层对输入张量首先进行 <code>tf.matmul(input,kernel)+ bias</code> 的线性变换（<code>kernel</code> 和 <code>bias</code> 是层中可训练的变量），然后对线性变换后张量的每个元素通过激活函数 <code>activation</code>，从而输出形状为 <code>[batch_size, units]</code> 的二维张量。</p>
<p><a href="https://tf.wiki/_images/dense.png"><img alt="../../_images/dense.png" src="https://tf.wiki/_images/dense.png" /></a></p>
<ul>
<li><code>activation</code>：激活函数，默认为无激活函数。常用的激活函数包括 <code>tf.nn.relu</code>、<code>tf.nn.tanh</code> 和 <code>tf.nn.sigmoid</code> </li>
<li><code>use_bias</code>：是否加入偏置向量 <code>bias</code>，默认为 <code>True</code> </li>
<li><code>kernel_initializer</code>、<code>bias_initializer</code>：权重矩阵 <code>kernel</code> 和偏置向量 <code>bias</code> 两个变量的初始化器。默认为 <code>tf.glorot_uniform_initializer</code>。设置为 <code>tf.zeros_initializer</code> 表示将两个变量均初始化为全 0</li>
</ul>
<p>该层包含权重矩阵  <code>kernel=[input_dim,units]</code> 和偏置向量 <code>bias=[units]</code>  两个可训练变量，对应于 <span class="arithmatex">\(f(A\pmb w+b)\)</span> 中的 <span class="arithmatex">\(\pmb w\)</span> 和 <span class="arithmatex">\(b\)</span>。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="n">units</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_bias</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kernel_initializer</span><span class="o">=</span><span class="s1">&#39;glorot_uniform&#39;</span><span class="p">,</span> <span class="n">bias_initializer</span><span class="o">=</span><span class="s1">&#39;zeros&#39;</span><span class="p">,</span> <span class="n">kernel_regularizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bias_regularizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">activity_regularizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kernel_constraint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bias_constraint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="c1"># units         神经元的个数,即输出空间的维数</span>
<span class="c1"># activation    激活函数,默认为无激活函数。常用的激活函数包括 `tf.nn.relu`、`tf.nn.tanh` 和 `tf.nn.sigmoid` </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Sequential</span><span class="p">([</span>
    <span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,)),</span>
    <span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">),</span>
    <span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
<span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="n">Model</span><span class="p">:</span> <span class="s2">&quot;sequential&quot;</span>
<span class="n">_________________________________________________________________</span>
<span class="n">Layer</span> <span class="p">(</span><span class="nb">type</span><span class="p">)</span>                 <span class="n">Output</span> <span class="n">Shape</span>              <span class="n">Param</span> <span class="c1">#   </span>
<span class="o">=================================================================</span>
<span class="n">dense</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>                <span class="mi">272</span>           <span class="c1"># 16*16+16 = 272</span>
<span class="n">_________________________________________________________________</span>
<span class="n">dense_1</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>              <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>                 <span class="mi">68</span>            <span class="c1"># 16*4+4 = 68</span>
<span class="n">_________________________________________________________________</span>
<span class="n">dense_2</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>              <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                 <span class="mi">5</span>             <span class="c1"># 4*1+1 = 5</span>
<span class="o">=================================================================</span>
<span class="n">Total</span> <span class="n">params</span><span class="p">:</span> <span class="mi">345</span>
<span class="n">Trainable</span> <span class="n">params</span><span class="p">:</span> <span class="mi">345</span>
<span class="n">Non</span><span class="o">-</span><span class="n">trainable</span> <span class="n">params</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">_________________________________________________________________</span>
</code></pre></div>
<h3 id="conv2d">Conv2D<a class="headerlink" href="#conv2d" title="Permanent link">&para;</a></h3>
<p>卷积层。</p>
<p>其包含的主要参数如下：</p>
<ul>
<li><code>filters</code>：输出特征映射的个数</li>
<li><code>kernel_size</code>：整数或整数 1×2 向量，（分别）表示二维卷积核的高和宽</li>
<li><code>strides</code>：整数或整数 1×2 向量，（分别）表示卷积的纵向和横向步长</li>
<li><code>padding</code>：<code>"valid"</code> 表示对于不够卷积核大小的部分丢弃，<code>"same"</code> 表示对于不够卷积核大小的部分补 0，默认为 <code>"valid"</code></li>
<li><code>activation</code>：激活函数，默认为无激活函数</li>
<li><code>use_bias</code>：是否使用偏置，默认为使用</li>
</ul>
<p>示例：</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Conv2D</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="c1"># 输入32x32RGB图片,输出32个特征映射,使用3x3卷积核,每个输出特征映射使用1个偏置</span>
<span class="c1"># 参数数量为3x32x(3x3)+32=896</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPooling2D</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="c1"># 对每个2x2区块执行最大汇聚</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Conv2D</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="c1"># 卷积的步长设为2</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPooling2D</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="c1"># 7%2=1,因此丢弃一行一列的数据</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>

<span class="c1"># _________________________________________________________________</span>
<span class="c1"># Layer (type)                 Output Shape              Param #   </span>
<span class="c1"># =================================================================</span>
<span class="c1"># conv2d (Conv2D)              (None, 30, 30, 32)        896       </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># max_pooling2d (MaxPooling2D) (None, 15, 15, 32)        0         </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># conv2d_1 (Conv2D)            (None, 7, 7, 64)          18496     </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># max_pooling2d_1 (MaxPooling2 (None, 3, 3, 64)          0         </span>
<span class="c1"># =================================================================</span>
<span class="c1"># Total params: 19,392</span>
<span class="c1"># Trainable params: 19,392</span>
<span class="c1"># Non-trainable params: 0</span>
</code></pre></div>
<h3 id="maxpool2d">MaxPool2D<a class="headerlink" href="#maxpool2d" title="Permanent link">&para;</a></h3>
<p>对二维数据（图片）进行最大汇聚（池化）操作。具有别名 <code>MaxPooling2D</code>。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPool2D</span><span class="p">(</span><span class="n">pool_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">strides</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;valid&#39;</span><span class="p">,</span> <span class="n">data_format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="c1"># pool_size    窗口大小.若为2个整数组成的元组,则分别代表窗口的高和宽;若为1个整数,则同时代表窗口的高和宽.</span>
<span class="c1"># strides      步长.若为2个整数组成的元组,则分别代表竖向和横向的步长;若为1个整数,则同时代表竖向和横向的步长.</span>
<span class="c1">#              默认与`pool_size`相同.</span>
<span class="c1"># padding      若为`&#39;valid&#39;`,则不填充;若为`&#39;same&#39;`,则在右侧和下侧填充0以补全不完整的窗口</span>
<span class="c1"># data_format  若为`&#39;channels_last&#39;`,则输入和输出张量的形状为`(batch_size, height, width, channels)`;</span>
<span class="c1">#              若为`&#39;channels_first&#39;`,则输入和输出张量的形状为`(batch_size, channels, height, width)`.</span>
<span class="c1">#              默认为`&#39;channels_last&#39;`.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">7.</span><span class="p">,</span> <span class="mf">8.</span><span class="p">,</span> <span class="mf">9.</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPool2D</span><span class="p">(</span><span class="n">pool_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">strides</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;valid&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[[</span><span class="mf">5.</span><span class="p">],</span> <span class="p">[</span><span class="mf">6.</span><span class="p">]],</span>
        <span class="p">[[</span><span class="mf">8.</span><span class="p">],</span> <span class="p">[</span><span class="mf">9.</span><span class="p">]]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">8.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPool2D</span><span class="p">(</span><span class="n">pool_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">strides</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;valid&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[[</span><span class="mf">6.</span><span class="p">],</span> <span class="p">[</span><span class="mf">8.</span><span class="p">]]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">8.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPool2D</span><span class="p">(</span><span class="n">pool_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">strides</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                                              
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[[</span> <span class="mf">6.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">7.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">8.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">8.</span><span class="p">]],</span>                       <span class="c1"># 右侧填充一列0,下侧填充一行0</span>
        <span class="p">[[</span><span class="mf">10.</span><span class="p">],</span> <span class="p">[</span><span class="mf">11.</span><span class="p">],</span> <span class="p">[</span><span class="mf">12.</span><span class="p">],</span> <span class="p">[</span><span class="mf">12.</span><span class="p">]],</span>
        <span class="p">[[</span><span class="mf">10.</span><span class="p">],</span> <span class="p">[</span><span class="mf">11.</span><span class="p">],</span> <span class="p">[</span><span class="mf">12.</span><span class="p">],</span> <span class="p">[</span><span class="mf">12.</span><span class="p">]]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">8.</span><span class="p">],</span>
                     <span class="p">[</span><span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPool2D</span><span class="p">(</span><span class="n">pool_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">strides</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_pool_2d</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                                                                              
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[[</span> <span class="mf">6.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">8.</span><span class="p">]],</span>                                     <span class="c1"># 右侧不填充,下侧填充一行0</span>
        <span class="p">[[</span><span class="mf">10.</span><span class="p">],</span> <span class="p">[</span><span class="mf">12.</span><span class="p">]]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="embedding">Embedding<a class="headerlink" href="#embedding" title="Permanent link">&para;</a></h3>
<blockquote>
<p>参考<a href="https://www.tensorflow.org/tutorials/text/word_embeddings">单词嵌入向量</a></p>
</blockquote>
<p>嵌入层可以被理解为整数（单词索引）到密集向量的映射。嵌入层输入形如 <code>(samples,sequence_length)</code> 的二维整数张量，因此所有的整数序列都应填充或裁剪到相同的长度；输出形如 <code>(samples,sequence_ length,embedding_dimensionality)</code> 的三维浮点张量，再输入给 RNN 层处理。</p>
<p>嵌入层在刚初始化时所有的权重参数都是随机的，就如同其它的层一样。在训练过程中这些参数会根据反向传播算法逐渐更新，嵌入空间会逐渐显现出更多结构（这些结构适应于当前的具体问题）。</p>
<p>其包含的主要参数如下：</p>
<ul>
<li><code>input_dim</code>：字典的规模</li>
<li><code>output_dim</code>：嵌入向量的规模</li>
<li><code>mask_zero</code>：是否将输入中的 0 看作填充值而忽略之，默认为 <code>False</code></li>
<li><code>input_length</code>：输入序列的长度（如果该长度固定），默认为 <code>None</code>；如果此嵌入层后接 <code>Flatten</code> 层，再接 <code>Dense</code> 层，则必须制定此参数</li>
</ul>
<p>示例见 SimpleRNN，LSTM。</p>
<h3 id="simplernn">SimpleRNN<a class="headerlink" href="#simplernn" title="Permanent link">&para;</a></h3>
<p>SRN 层是最简单的循环神经网络层。</p>
<p>其包含的主要参数如下：</p>
<ul>
<li><code>units</code>：输出向量的维度</li>
<li><code>activation</code>：激活函数，默认为 <code>tanh</code></li>
<li><code>return_sequences</code>：<code>False</code> 表示最后输出一个向量，即序列到类别模式；<code>True</code> 表示每个时间步长输出一个向量，即序列到序列模式。</li>
</ul>
<p>实践中一般使用 LSTM 和 GRU 而非 SRN。</p>
<p>示例：</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Embedding</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">SimpleRNN</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span>
<span class="c1"># 输入timestepsx32的二阶张量,输出32维向量,即序列到类别模式</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="c1"># Model: &quot;sequential&quot;</span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># Layer (type)                 Output Shape              Param #   </span>
<span class="c1"># =================================================================</span>
<span class="c1"># embedding (Embedding)        (None, None, 32)          320000    </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># simple_rnn (SimpleRNN)       (None, 32)                2080      </span>
<span class="c1"># =================================================================</span>
<span class="c1"># Total params: 322,080</span>
<span class="c1"># Trainable params: 322,080</span>
<span class="c1"># Non-trainable params: 0</span>
<span class="c1"># _________________________________________________________________</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Embedding</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">SimpleRNN</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="c1"># 输入timestepsx32的二阶张量,输出timestepsx32的二阶张量,即序列到序列模式</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="c1"># Model: &quot;sequential&quot;</span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># Layer (type)                 Output Shape              Param #   </span>
<span class="c1"># =================================================================</span>
<span class="c1"># embedding (Embedding)        (None, None, 32)          320000    </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># simple_rnn (SimpleRNN)       (None, None, 32)          2080      </span>
<span class="c1"># =================================================================</span>
<span class="c1"># Total params: 322,080</span>
<span class="c1"># Trainable params: 322,080</span>
<span class="c1"># Non-trainable params: 0</span>
<span class="c1"># _________________________________________________________________</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Embedding</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">SimpleRNN</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="c1"># SRN的堆叠</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">SimpleRNN</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">SimpleRNN</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">SimpleRNN</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="c1"># Model: &quot;sequential&quot;</span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># Layer (type)                 Output Shape              Param #   </span>
<span class="c1"># =================================================================</span>
<span class="c1"># embedding (Embedding)        (None, None, 32)          320000    </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># simple_rnn (SimpleRNN)       (None, None, 32)          2080      </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># simple_rnn_1 (SimpleRNN)     (None, None, 32)          2080      </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># simple_rnn_2 (SimpleRNN)     (None, None, 32)          2080      </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># simple_rnn_3 (SimpleRNN)     (None, 32)                2080      </span>
<span class="c1"># =================================================================</span>
<span class="c1"># Total params: 328,320</span>
<span class="c1"># Trainable params: 328,320</span>
<span class="c1"># Non-trainable params: 0</span>
<span class="c1"># _________________________________________________________________</span>
</code></pre></div>
<h3 id="lstm">LSTM<a class="headerlink" href="#lstm" title="Permanent link">&para;</a></h3>
<p>LSTM 层。</p>
<p>其包含的主要参数如下：</p>
<ul>
<li><code>units</code>：输出空间的规模</li>
</ul>
<p>示例：</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Embedding</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<span class="c1"># 将规模为10000的词典嵌入到16维向量</span>
<span class="c1"># 输入256维向量,输出256x16的二阶张量</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span>
<span class="c1"># 输入256x16的二阶张量,输出64维向量(隐状态),即序列到类别模式</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="c1"># 全连接层,ReLU激活函数,分类器</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;sigmoid&#39;</span><span class="p">))</span>  
<span class="c1"># 全连接层,Logistic激活函数</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="c1"># Model: &quot;sequential&quot;</span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># Layer (type)                 Output Shape              Param #   </span>
<span class="c1"># =================================================================</span>
<span class="c1"># embedding (Embedding)        (None, None, 16)          160000    </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># lstm (LSTM)                  (None, 64)                20736     </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># dense (Dense)                (None, 16)                1040      </span>
<span class="c1"># _________________________________________________________________</span>
<span class="c1"># dense_1 (Dense)              (None, 1)                 17        </span>
<span class="c1"># =================================================================</span>
<span class="c1"># Total params: 181,793</span>
<span class="c1"># Trainable params: 181,793</span>
<span class="c1"># Non-trainable params: 0</span>
<span class="c1"># _________________________________________________________________</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> 
                            <span class="n">dropout</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
                            <span class="n">recurrent_dropout</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
                            <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="c1"># 堆叠了rnn层,必须在每个时间步长输出</span>
                            <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])))</span>
                            <span class="c1"># 尽管这里序列的长度是确定的(120),但也不必传入</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span>
                            <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span>
                            <span class="n">dropout</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
                            <span class="n">recurrent_dropout</span><span class="o">=</span><span class="mf">0.2</span><span class="p">))</span>
<span class="c1"># 亦可以使用 layers.GRU</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div>
<h3 id="gru">GRU<a class="headerlink" href="#gru" title="Permanent link">&para;</a></h3>
<p>GRU 层。</p>
<h3 id="bidirectional">Bidirectional<a class="headerlink" href="#bidirectional" title="Permanent link">&para;</a></h3>
<p>双向 RNN 层在某些特定的任务上比一般的 RNN 层表现得更好，经常应用于 NLP。</p>
<p>RNN 的输入序列存在顺序，打乱或反序都会彻底改变 RNN 从序列中提取的特征。双向 RNN 包含两个一般的 RNN，分别从一个方向处理输入序列。在许多 NLP 任务中，反向处理输入序列能够达到与正向处理相当的结果，并且提取出不同但同样有效的特征，此种情况下双向 RNN 将捕获到更多的有用的模式，但也会更快地过拟合。</p>
<p><img alt="Screenshot from 2020-09-28 19-00-29.png" src="https://i.loli.net/2020/09/28/i2V36gZhtIv7BJA.png" /></p>
<p><code>keras</code> 中，<code>Bidirectional</code> 实现为创建一个参数指定的 RNN 层，再创建一个相同的 RNN 层处理反序的输入序列。</p>
<p>示例：</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Embedding</span><span class="p">(</span><span class="n">max_features</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Bidirectional</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">32</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;sigmoid&#39;</span><span class="p">))</span>
</code></pre></div>
<h3 id="dropout">Dropout<a class="headerlink" href="#dropout" title="Permanent link">&para;</a></h3>
<p>示例：</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">10000</span><span class="p">,)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dropout</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dropout</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;sigmoid&#39;</span><span class="p">))</span>
</code></pre></div>
<h2 id="losses">losses<a class="headerlink" href="#losses" title="Permanent link">&para;</a></h2>
<h3 id="binarycrossentropy">BinaryCrossentropy<a class="headerlink" href="#binarycrossentropy" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的交叉熵损失，用于二分类问题。损失函数接受的标签为 <code>0</code> 或 <code>1</code>，预测值为任意浮点数（若 <code>from_logits=True</code>，此时预测值的浮点数通过 logistic 函数映射到 <span class="arithmatex">\((0, 1)\)</span> 区间内）或概率值（若 <code>from_logits=False</code>）。</p>
<blockquote>
<p>logit 函数是 logistic 函数的反函数。</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">18.6</span><span class="p">,</span> <span class="mf">0.51</span><span class="p">,</span> <span class="mf">2.94</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.8</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bce</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">BinaryCrossentropy</span><span class="p">(</span><span class="n">from_logits</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># 对预测值应用logistic函数</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bce</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">0.865458</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="categoricalcrossentropy">CategoricalCrossentropy<a class="headerlink" href="#categoricalcrossentropy" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的交叉熵损失，用于二分类或多分类问题。损失函数接受的预测值为表示各类别概率值的向量，标签为相应的 one-hot 向量。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cce</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">CategoricalCrossentropy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cce</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">1.1769392</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="cosinesimilarity">CosineSimilarity<a class="headerlink" href="#cosinesimilarity" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的余弦相似度。返回值介于 -1 到 1 之间，-1 表示方向相同，1 表示方向相反，0 表示正交。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cosine_loss</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">CosineSimilarity</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cosine_loss</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=-</span><span class="mf">0.99999994</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cosine_loss</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">CosineSimilarity</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cosine_loss</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=-</span><span class="mf">0.0</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="hinge">Hinge<a class="headerlink" href="#hinge" title="Permanent link">&para;</a></h3>
<h3 id="kldiverence">KLDiverence<a class="headerlink" href="#kldiverence" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的 KL 散度。</p>
<h3 id="loss">Loss<a class="headerlink" href="#loss" title="Permanent link">&para;</a></h3>
<h3 id="meanabsoluteerror">MeanAbsoluteError<a class="headerlink" href="#meanabsoluteerror" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的平均绝对误差。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mae</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">MeanAbsoluteError</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mae</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">0.14999999</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="meansquareerror">MeanSquareError<a class="headerlink" href="#meansquareerror" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的平均平方误差。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mse</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">MeanSquaredError</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mse</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">0.024999999</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="poisson">Poisson<a class="headerlink" href="#poisson" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的泊松损失。</p>
<h3 id="reduction">Reduction<a class="headerlink" href="#reduction" title="Permanent link">&para;</a></h3>
<h3 id="sparsecategoricalcrossentropy">SparseCategoricalCrossentropy<a class="headerlink" href="#sparsecategoricalcrossentropy" title="Permanent link">&para;</a></h3>
<p>计算标签和预测值之间的交叉熵损失，用于二分类或多分类问题。损失函数接受的预测值为表示各类别概率值的向量，标签为类别的序号。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">scce</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">SparseCategoricalCrossentropy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">scce</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">1.1769392</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="squaredhinge">SquaredHinge<a class="headerlink" href="#squaredhinge" title="Permanent link">&para;</a></h3>
<h2 id="metrics">metrics<a class="headerlink" href="#metrics" title="Permanent link">&para;</a></h2>
<h3 id="accuracy">Accuracy<a class="headerlink" href="#accuracy" title="Permanent link">&para;</a></h3>
<p>准确率。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">Accuracy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">update_state</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="mf">0.75</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;sgd&#39;</span><span class="p">,</span>
              <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;mse&#39;</span><span class="p">,</span>
              <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">Accuracy</span><span class="p">()])</span>
</code></pre></div>
<h4 id="update_state">update_state<a class="headerlink" href="#update_state" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">update_state</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># y_true         真实值</span>
<span class="c1"># y_pred         预测值</span>
<span class="c1"># sample_weight  样本权重</span>
</code></pre></div>
<h3 id="binaryaccuracy">BinaryAccuracy<a class="headerlink" href="#binaryaccuracy" title="Permanent link">&para;</a></h3>
<p>准确率（）。</p>
<h4 id="update_state_1">update_state<a class="headerlink" href="#update_state_1" title="Permanent link">&para;</a></h4>
<p>见 <a href="#Accuracy">Accuracy</a>。</p>
<h3 id="categoricalaccuracy">CategoricalAccuracy<a class="headerlink" href="#categoricalaccuracy" title="Permanent link">&para;</a></h3>
<p>准确率（类别概率对独热标签）。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">CategoricalAccuracy</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">update_state</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span>
                <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="mf">0.6666667</span>
</code></pre></div>
<h4 id="update_state_2">update_state<a class="headerlink" href="#update_state_2" title="Permanent link">&para;</a></h4>
<p>见 <a href="#Accuracy">Accuracy</a>。</p>
<h3 id="falsenegatives">FalseNegatives<a class="headerlink" href="#falsenegatives" title="Permanent link">&para;</a></h3>
<h3 id="falsepositives">FalsePositives<a class="headerlink" href="#falsepositives" title="Permanent link">&para;</a></h3>
<h3 id="kldivergence">KLDivergence<a class="headerlink" href="#kldivergence" title="Permanent link">&para;</a></h3>
<p>KL 散度。</p>
<h3 id="mean">Mean<a class="headerlink" href="#mean" title="Permanent link">&para;</a></h3>
<p>平均值。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">Mean</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">update_state</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="mf">4.0</span>
</code></pre></div>
<h3 id="metric">Metric<a class="headerlink" href="#metric" title="Permanent link">&para;</a></h3>
<p>指标的基类。</p>
<h4 id="reset_state">reset_state<a class="headerlink" href="#reset_state" title="Permanent link">&para;</a></h4>
<p>重置状态，即移除所有样本。</p>
<h4 id="result">result<a class="headerlink" href="#result" title="Permanent link">&para;</a></h4>
<p>计算并返回指标值张量。</p>
<h4 id="update_state_3">update_state<a class="headerlink" href="#update_state_3" title="Permanent link">&para;</a></h4>
<p>更新状态，即添加样本。</p>
<h3 id="precision">Precision<a class="headerlink" href="#precision" title="Permanent link">&para;</a></h3>
<p>精确率。</p>
<h3 id="recall">Recall<a class="headerlink" href="#recall" title="Permanent link">&para;</a></h3>
<p>召回率。</p>
<h3 id="sum">Sum<a class="headerlink" href="#sum" title="Permanent link">&para;</a></h3>
<p>求和。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">Sum</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">update_state</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="mf">10.0</span>
</code></pre></div>
<h4 id="update_state_4">update_state<a class="headerlink" href="#update_state_4" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">update_state</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># values         样本值</span>
<span class="c1"># sample_weight  样本权重</span>
</code></pre></div>
<h3 id="truenegatives">TrueNegatives<a class="headerlink" href="#truenegatives" title="Permanent link">&para;</a></h3>
<p>真阴性的数量。</p>
<div class="highlight"><pre><span></span><code>
</code></pre></div>
<h4 id="update_state_5">update_state<a class="headerlink" href="#update_state_5" title="Permanent link">&para;</a></h4>
<p>见 <a href="#TruePositives">TruePositives</a>。</p>
<h3 id="truepositives">TruePositives<a class="headerlink" href="#truepositives" title="Permanent link">&para;</a></h3>
<p>真阳性的数量。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">TruePositives</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">update_state</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="mf">2.0</span>
</code></pre></div>
<h4 id="update_state_6">update_state<a class="headerlink" href="#update_state_6" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">update_state</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># y_true         真实值</span>
<span class="c1"># y_pred         预测值</span>
<span class="c1"># sample_weight  样本权重</span>
</code></pre></div>
<h2 id="model">Model<a class="headerlink" href="#model" title="Permanent link">&para;</a></h2>
<p><img alt="" src="https://i.loli.net/2020/09/27/hvxUc9eyiqJkGVu.png" /></p>
<h4 id="compile">compile()<a class="headerlink" href="#compile" title="Permanent link">&para;</a></h4>
<p>配置模型以准备训练。</p>
<div class="highlight"><pre><span></span><code><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;rmsprop&#39;</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">loss_weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">weighted_metrics</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_eagerly</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">steps_per_execution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="c1"># optimizer      优化器,是一个`keras.optimizers.Optimizer`实例</span>
<span class="c1"># loss           损失函数,是一个字符串,`keras.losses.Loss`实例或自定义函数.可以使用的字符串包括</span>
<span class="c1">#                   `keras.losses`下所有损失函数的名称;自定义函数是形如`loss = fn(y_true, y_pred)`</span>
<span class="c1">#                   的函数,其中`y_true`和`y_pred`的形状为`[batch_size, d0, ..., dN]`</span>
<span class="c1"># metrics        评价指标,是一个字符串,`keras.metrics.Metric`实例或自定义函数的列表.可以使用的字符串</span>
<span class="c1">#                   包括`keras.metrics`下所有指标函数的名称;自定义函数是形如`loss = fn(y_true, y_pred)`</span>
<span class="c1">#                   的函数,其中`y_true`和`y_pred`的形状为`[batch_size, d0, ..., dN]`</span>
<span class="c1"># </span>
</code></pre></div>
<h4 id="evaluate">evaluate()<a class="headerlink" href="#evaluate" title="Permanent link">&para;</a></h4>
<p>返回模型在测试模式中的损失和指标值。</p>
<div class="highlight"><pre><span></span><code><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_queue_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">use_multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># x             输入数据,可以是一个numpy数组,tensorflow张量,返回元组`(x, y)`的`tf.data`数据集、</span>
<span class="c1">#                  生成器或`keras.utils.Sequence`实例,etc</span>
<span class="c1"># y             目标数据,可以是一个numpy数组或tensorflow张量.若`x`是一个`tf.data`数据集、生成器或</span>
<span class="c1">#                  `keras.utils.Sequence`实例,则不可指定此参数</span>
<span class="c1"># batch_size    批次规模,即每一次梯度更新计算的样本数量,默认为32.若`x`是一个`tf.data`数据集、生成器或</span>
<span class="c1">#                  `keras.utils.Sequence`实例,则不可指定此参数</span>
<span class="c1"># verbose       若为0,控制台无输出;若为1,输出进度条</span>
<span class="c1"># callbacks     测试过程中使用的回调,是一个`keras.callbacks.Callback`实例的列表</span>
<span class="c1"># </span>
</code></pre></div>
<h4 id="fit">fit()<a class="headerlink" href="#fit" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">epochs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">callbacks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
<span class="n">validation_split</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">validation_data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">class_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
<span class="n">sample_weight</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initial_epoch</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">steps_per_epoch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validation_steps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
<span class="n">validation_batch_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validation_freq</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_queue_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
<span class="n">use_multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># x             输入数据,可以是一个numpy数组,tensorflow张量,返回元组`(x, y)`的`tf.data`数据集、</span>
<span class="c1">#                  生成器或`keras.utils.Sequence`实例,etc</span>
<span class="c1"># y             目标数据,可以是一个numpy数组或tensorflow张量.若`x`是一个`tf.data`数据集、生成器或</span>
<span class="c1">#                  `keras.utils.Sequence`实例,则不可指定此参数</span>
<span class="c1"># batch_size    批次规模,即每一次梯度更新计算的样本数量,默认为32.若`x`是一个`tf.data`数据集、生成器或</span>
<span class="c1">#                  `keras.utils.Sequence`实例,则不可指定此参数</span>
<span class="c1"># epochs        回合数,即训练过程迭代训练集的次数</span>
<span class="c1"># verbose       若为0,控制台无输出;若为1,输出每个epoch的进度条和结果;若为2,仅输出每个epoch的结果</span>
<span class="c1"># callbacks     训练过程中使用的回调,是一个`keras.callbacks.Callback`实例的列表</span>
<span class="c1"># validation_split   使用多少比例的训练数据作为验证数据.验证数据取自`x`和`y`的末尾样本.若`x`是一个</span>
<span class="c1">#                       `tf.data`数据集、生成器或`keras.utils.Sequence`实例,则不可指定此参数</span>
<span class="c1"># validation_data    验证集,可以是一个numpy数组或tensorflow张量的元组`(x, y)`、`tf.data`数据集、</span>
<span class="c1">#                       生成器或`keras.utils.Sequence`实例.此参数会重载`validation_split`</span>
<span class="c1"># shuffle       若为`True`,在每个epoch开始前打乱训练数据,仅会打乱batch的顺序.若`x`是一个生成器,则忽略此参数</span>
<span class="c1"># class_weight</span>
<span class="c1"># sample_weight</span>
<span class="c1"># initial_epoch</span>
<span class="c1"># steps_per_epoch    每个epoch的最大步数,即每个epoch在训练这么多批次的样本后直接结束.若`x`是一个无限重复的</span>
<span class="c1">#                       `tf.data`数据集,则必须指定此参数;若`x`是一个numpy数组或tensorflow张量,则不可指定</span>
<span class="c1">#                       此参数</span>
<span class="c1"># validation_steps   验证的最大步数,仅在提供了`validation_data`并且是`tf.data`数据集时有效.若为None,</span>
<span class="c1">#                       则验证会进行至`validation_data`数据集耗尽</span>
<span class="c1"># validation_batch_size   验证的批次规模,默认为`batch_size`.若验证数据是一个`tf.data`数据集、生成器或</span>
<span class="c1">#                  `keras.utils.Sequence`实例,则不可指定此参数</span>
<span class="c1"># validation_freq    进行验证的频率.若为整数,例如2,则每2个epoch进行一次验证;若为`Container`容器类型,</span>
<span class="c1">#                       例如[1, 2, 10],则在第1、2、10个epoch进行验证</span>
<span class="c1"># workers       基于进程的并行的最大进程数.仅在`x`为生成器或`keras.utils.Sequence`实例时有效</span>
<span class="c1"># use_multiprocessing     若为True,使用基于进程的并行.仅在`x`为生成器或`keras.utils.Sequence`实例时有效</span>
</code></pre></div>
<h4 id="get_config">get_config()<a class="headerlink" href="#get_config" title="Permanent link">&para;</a></h4>
<h4 id="predict">predict()<a class="headerlink" href="#predict" title="Permanent link">&para;</a></h4>
<h4 id="save">save()<a class="headerlink" href="#save" title="Permanent link">&para;</a></h4>
<p>保存模型为 TensorFlow SavedModel 或 HDF5 文件。参见<a href="#save_model（"><code>keras.models.save_model()</code></a>。</p>
<div class="highlight"><pre><span></span><code><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_optimizer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">save_format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">signatures</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">save_traces</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># filepath      保存的文件的路径</span>
<span class="c1"># overwrite     若为True,则覆盖已经存在于目标路径的文件;否则在命令行提示用户进行选择</span>
<span class="c1"># include_optimizer   若为True,则一并保存优化器的状态</span>
<span class="c1"># save_format   若为&#39;tf&#39;,则保存为TensorFlow SavedModel文件;若为&#39;h5&#39;,则保存为HDF5文件.tf2.x默认为&#39;tf&#39;.</span>
<span class="c1"># signatures    </span>
<span class="c1"># options</span>
<span class="c1"># save_traces</span>
</code></pre></div>
<h4 id="summary">summary()<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h4>
<p>打印模型的概要。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">([</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer1&quot;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,)),</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer2&quot;</span><span class="p">),</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer3&quot;</span><span class="p">),</span>
<span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="n">Model</span><span class="p">:</span> <span class="s2">&quot;sequential&quot;</span>                                                 <span class="c1"># 模型名称</span>
<span class="n">_________________________________________________________________</span>
<span class="n">Layer</span> <span class="p">(</span><span class="nb">type</span><span class="p">)</span>                 <span class="n">Output</span> <span class="n">Shape</span>              <span class="n">Param</span> <span class="c1">#   </span>
<span class="o">=================================================================</span>
<span class="n">layer1</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>               <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>                 <span class="mi">25</span>           <span class="c1"># 层名称,类型,输出形状和参数数量</span>
<span class="n">_________________________________________________________________</span>   <span class="c1"># None表示输入的样本数量</span>
<span class="n">layer2</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>               <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>                 <span class="mi">18</span>        
<span class="n">_________________________________________________________________</span>
<span class="n">layer3</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>               <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                 <span class="mi">4</span>         
<span class="o">=================================================================</span>
<span class="n">Total</span> <span class="n">params</span><span class="p">:</span> <span class="mi">47</span>                                                    <span class="c1"># 参数总数</span>
<span class="n">Trainable</span> <span class="n">params</span><span class="p">:</span> <span class="mi">47</span>                                                <span class="c1"># 可训练的参数总数</span>
<span class="n">Non</span><span class="o">-</span><span class="n">trainable</span> <span class="n">params</span><span class="p">:</span> <span class="mi">0</span>                                             <span class="c1"># 不可训练的参数总数</span>
<span class="n">_________________________________________________________________</span>
</code></pre></div>
<h4 id="to_json">to_json()<a class="headerlink" href="#to_json" title="Permanent link">&para;</a></h4>
<p>返回一个包含模型配置的 JSON 字符串。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">([</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer1&quot;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">)),</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer2&quot;</span><span class="p">),</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer3&quot;</span><span class="p">),</span>
<span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;SGD&#39;</span><span class="p">,</span>
    <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;mse&#39;</span><span class="p">,</span>
    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mae&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">epochs</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="mi">2021</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mf">24.580192</span><span class="p">:</span> <span class="n">I</span> <span class="n">tensorflow</span><span class="o">/</span><span class="n">compiler</span><span class="o">/</span><span class="n">mlir</span><span class="o">/</span><span class="n">mlir_graph_optimization_pass</span><span class="o">.</span><span class="n">cc</span><span class="p">:</span><span class="mi">116</span><span class="p">]</span> <span class="kc">None</span> <span class="n">of</span> <span class="n">the</span> <span class="n">MLIR</span> <span class="n">optimization</span> <span class="n">passes</span> <span class="n">are</span> <span class="n">enabled</span> <span class="p">(</span><span class="n">registered</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">Epoch</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span>
<span class="mi">20</span><span class="o">/</span><span class="mi">20</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">0</span><span class="n">s</span> <span class="mi">477</span><span class="n">us</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">1.4276</span> <span class="o">-</span> <span class="n">mae</span><span class="p">:</span> <span class="mf">0.9459</span>
<span class="n">Epoch</span> <span class="mi">2</span><span class="o">/</span><span class="mi">5</span>
<span class="mi">20</span><span class="o">/</span><span class="mi">20</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">0</span><span class="n">s</span> <span class="mi">400</span><span class="n">us</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">1.0236</span> <span class="o">-</span> <span class="n">mae</span><span class="p">:</span> <span class="mf">0.8374</span>
<span class="n">Epoch</span> <span class="mi">3</span><span class="o">/</span><span class="mi">5</span>
<span class="mi">20</span><span class="o">/</span><span class="mi">20</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">0</span><span class="n">s</span> <span class="mi">396</span><span class="n">us</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">1.1599</span> <span class="o">-</span> <span class="n">mae</span><span class="p">:</span> <span class="mf">0.8905</span>
<span class="n">Epoch</span> <span class="mi">4</span><span class="o">/</span><span class="mi">5</span>
<span class="mi">20</span><span class="o">/</span><span class="mi">20</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">0</span><span class="n">s</span> <span class="mi">410</span><span class="n">us</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">0.9507</span> <span class="o">-</span> <span class="n">mae</span><span class="p">:</span> <span class="mf">0.8013</span>
<span class="n">Epoch</span> <span class="mi">5</span><span class="o">/</span><span class="mi">5</span>
<span class="mi">20</span><span class="o">/</span><span class="mi">20</span> <span class="p">[</span><span class="o">==============================</span><span class="p">]</span> <span class="o">-</span> <span class="mi">0</span><span class="n">s</span> <span class="mi">397</span><span class="n">us</span><span class="o">/</span><span class="n">step</span> <span class="o">-</span> <span class="n">loss</span><span class="p">:</span> <span class="mf">0.8971</span> <span class="o">-</span> <span class="n">mae</span><span class="p">:</span> <span class="mf">0.7745</span>
<span class="o">&lt;</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">History</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x16d06c970</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">weights</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Variable</span> <span class="s1">&#39;layer1/kernel:0&#39;</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.72289854</span><span class="p">,</span>  <span class="mf">0.29551595</span><span class="p">,</span>  <span class="mf">0.38591394</span><span class="p">,</span>  <span class="mf">0.46075335</span><span class="p">,</span>  <span class="mf">0.19983876</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.02872569</span><span class="p">,</span>  <span class="mf">0.579325</span>  <span class="p">,</span>  <span class="mf">0.20934486</span><span class="p">,</span>  <span class="mf">0.5554217</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.29025653</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.38993195</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.16033728</span><span class="p">,</span>  <span class="mf">0.7320385</span> <span class="p">,</span>  <span class="mf">0.62531203</span><span class="p">,</span>  <span class="mf">0.12029058</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.79410976</span><span class="p">,</span>  <span class="mf">0.81735367</span><span class="p">,</span>  <span class="mf">0.31564388</span><span class="p">,</span>  <span class="mf">0.37734994</span><span class="p">,</span>  <span class="mf">0.1701165</span> <span class="p">]],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Variable</span> <span class="s1">&#39;layer1/bias:0&#39;</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,)</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.0428277</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.0083819</span> <span class="p">,</span>  <span class="mf">0.01140244</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.03674569</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09126914</span><span class="p">],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config_json</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>      <span class="c1"># 返回包含模型配置的JSON字符串</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model1</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">model_from_json</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>   <span class="c1"># 从模型配置的JSON字符串初始化模型</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model1</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>                   <span class="c1"># 模型的网络结构被还原</span>
<span class="n">Model</span><span class="p">:</span> <span class="s2">&quot;sequential&quot;</span>
<span class="n">_________________________________________________________________</span>
<span class="n">Layer</span> <span class="p">(</span><span class="nb">type</span><span class="p">)</span>                 <span class="n">Output</span> <span class="n">Shape</span>              <span class="n">Param</span> <span class="c1">#   </span>
<span class="o">=================================================================</span>
<span class="n">layer1</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>               <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>                 <span class="mi">25</span>        
<span class="n">_________________________________________________________________</span>
<span class="n">layer2</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>               <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>                 <span class="mi">18</span>        
<span class="n">_________________________________________________________________</span>
<span class="n">layer3</span> <span class="p">(</span><span class="n">Dense</span><span class="p">)</span>               <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                 <span class="mi">4</span>         
<span class="o">=================================================================</span>
<span class="n">Total</span> <span class="n">params</span><span class="p">:</span> <span class="mi">47</span>
<span class="n">Trainable</span> <span class="n">params</span><span class="p">:</span> <span class="mi">47</span>
<span class="n">Non</span><span class="o">-</span><span class="n">trainable</span> <span class="n">params</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">_________________________________________________________________</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model1</span><span class="o">.</span><span class="n">optimizer</span>                   <span class="c1"># 模型的优化器为None,因为未被compile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model1</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">weights</span>           <span class="c1"># 模型的网络参数为随机初始值</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Variable</span> <span class="s1">&#39;layer1/kernel:0&#39;</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">0.46788</span>   <span class="p">,</span> <span class="o">-</span><span class="mf">0.76049685</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.71987045</span><span class="p">,</span>  <span class="mf">0.07750785</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.64779675</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.05875117</span><span class="p">,</span>  <span class="mf">0.11067849</span><span class="p">,</span>  <span class="mf">0.5523362</span> <span class="p">,</span>  <span class="mf">0.81021357</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.49546677</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.08038539</span><span class="p">,</span>  <span class="mf">0.6955117</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.18111247</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0841682</span> <span class="p">,</span>  <span class="mf">0.59767616</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.7479675</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.26797855</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3999755</span> <span class="p">,</span>  <span class="mf">0.35369885</span><span class="p">,</span>  <span class="mf">0.26355588</span><span class="p">]],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Variable</span> <span class="s1">&#39;layer1/bias:0&#39;</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,)</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">config_json</span><span class="p">))</span>    <span class="c1"># 模型配置的JSON字符串内容</span>
<span class="p">{</span><span class="s1">&#39;backend&#39;</span><span class="p">:</span> <span class="s1">&#39;tensorflow&#39;</span><span class="p">,</span>
 <span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Sequential&#39;</span><span class="p">,</span>
 <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;layers&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;InputLayer&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;batch_input_shape&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
                                   <span class="s1">&#39;dtype&#39;</span><span class="p">:</span> <span class="s1">&#39;float32&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;layer1_input&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;ragged&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                   <span class="s1">&#39;sparse&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}},</span>
                       <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Dense&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s1">&#39;relu&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;activity_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;batch_input_shape&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
                                   <span class="s1">&#39;bias_constraint&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;bias_initializer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Zeros&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                                   <span class="s1">&#39;bias_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;dtype&#39;</span><span class="p">:</span> <span class="s1">&#39;float32&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;kernel_constraint&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;kernel_initializer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;GlorotUniform&#39;</span><span class="p">,</span>
                                                          <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;seed&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}},</span>
                                   <span class="s1">&#39;kernel_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;layer1&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;trainable&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                   <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                                   <span class="s1">&#39;use_bias&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                       <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Dense&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s1">&#39;relu&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;activity_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;bias_constraint&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;bias_initializer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Zeros&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                                   <span class="s1">&#39;bias_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;dtype&#39;</span><span class="p">:</span> <span class="s1">&#39;float32&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;kernel_constraint&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;kernel_initializer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;GlorotUniform&#39;</span><span class="p">,</span>
                                                          <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;seed&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}},</span>
                                   <span class="s1">&#39;kernel_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;layer2&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;trainable&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                   <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                                   <span class="s1">&#39;use_bias&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>
                       <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Dense&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s1">&#39;linear&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;activity_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;bias_constraint&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;bias_initializer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Zeros&#39;</span><span class="p">,</span>
                                                        <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{}},</span>
                                   <span class="s1">&#39;bias_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;dtype&#39;</span><span class="p">:</span> <span class="s1">&#39;float32&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;kernel_constraint&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;kernel_initializer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;class_name&#39;</span><span class="p">:</span> <span class="s1">&#39;GlorotUniform&#39;</span><span class="p">,</span>
                                                          <span class="s1">&#39;config&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;seed&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}},</span>
                                   <span class="s1">&#39;kernel_regularizer&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;layer3&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;trainable&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                   <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                                   <span class="s1">&#39;use_bias&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}}],</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;sequential_6&#39;</span><span class="p">},</span>
 <span class="s1">&#39;keras_version&#39;</span><span class="p">:</span> <span class="s1">&#39;2.4.0&#39;</span><span class="p">}</span>
</code></pre></div>
<h4 id="to_yaml">to_yaml()<a class="headerlink" href="#to_yaml" title="Permanent link">&para;</a></h4>
<p>返回一个包含模型配置的 yaml 字符串。参考<a href="#to_json（"><code>keras.Model.to_json()</code></a>）。</p>
<h2 id="models">models<a class="headerlink" href="#models" title="Permanent link">&para;</a></h2>
<h4 id="load_model">load_model()<a class="headerlink" href="#load_model" title="Permanent link">&para;</a></h4>
<h4 id="model_from_config">model_from_config()<a class="headerlink" href="#model_from_config" title="Permanent link">&para;</a></h4>
<p>从配置字典初始化一个 keras 模型。</p>
<div class="highlight"><pre><span></span><code>
</code></pre></div>
<h4 id="model_from_json">model_from_json()<a class="headerlink" href="#model_from_json" title="Permanent link">&para;</a></h4>
<p>从模型配置的 JSON 字符串初始化一个 keras 模型实例。返回的模型实例仅包含网络结构，没有被 <a href="#compile（">compile</a>），网络参数为随机的初始值。参见<a href="#to_json（"><code>keras.Model.to_json()</code></a>）。</p>
<h4 id="model_from_yaml">model_from_yaml()<a class="headerlink" href="#model_from_yaml" title="Permanent link">&para;</a></h4>
<p>从模型配置的 yaml 字符串初始化一个 keras 模型实例。返回的模型实例仅包含网络结构，没有被 <a href="#compile（">compile</a>），网络参数为随机的初始值。参见<a href="#to_yaml（"><code>keras.Model.to_yaml()</code></a>）。</p>
<h4 id="save_model">save_model()<a class="headerlink" href="#save_model" title="Permanent link">&para;</a></h4>
<p>保存模型为 TensorFlow SavedModel 或 HDF5 文件。</p>
<div class="highlight"><pre><span></span><code><span class="n">keras</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_optimizer</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">save_format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">signatures</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">save_traces</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h2 id="sequential">Sequential<a class="headerlink" href="#sequential" title="Permanent link">&para;</a></h2>
<p><code>Sequential</code> 返回一个 <code>keras.Model</code> 对象。<code>Sequential</code> 模型将各层线性组合，适用于 FNN，CNN，RNN，其中每一层都有<strong>一个输入张量和一个输出张量</strong>。</p>
<p>以下 <code>Sequential</code> 模型</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">([</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer1&quot;</span><span class="p">),</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer2&quot;</span><span class="p">),</span>
    <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer3&quot;</span><span class="p">),</span>
<span class="p">])</span>
<span class="c1"># Call model on a test input</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>等效于以下功能</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Create 3 layers</span>
<span class="n">layer1</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer1&quot;</span><span class="p">)</span>
<span class="n">layer2</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer2&quot;</span><span class="p">)</span>
<span class="n">layer3</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;layer3&quot;</span><span class="p">)</span>

<span class="c1"># Call layers on a test input</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">layer3</span><span class="p">(</span><span class="n">layer2</span><span class="p">(</span><span class="n">layer1</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</code></pre></div>
<p><code>Sequential</code> 模型也可以用 <code>add()</code> 方法创建</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s2">&quot;relu&quot;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div>
<p>CNN 模型示例：</p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Conv2D</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="c1"># FNN, CNN 需要指定输入张量的shape</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPooling2D</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Conv2D</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">MaxPooling2D</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Conv2D</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Flatten</span><span class="p">())</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>

<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</code></pre></div>
<h4 id="自定义模型">自定义模型<a class="headerlink" href="#自定义模型" title="Permanent link">&para;</a></h4>
<p>Keras 模型以类的形式呈现，我们可以通过继承 <code>tf.keras.Model</code> 这个 Python 类来定义自己的模型。在继承类中，我们需要重写 <code>__init__()</code>（构造函数，初始化）和 <code>call(input)</code>（模型调用）两个方法，同时也可以根据需要增加自定义的方法。</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>     <span class="c1"># Python 2 下使用 super(MyModel, self).__init__()</span>
        <span class="c1"># 此处添加初始化代码（包含 call 方法中会用到的层），例如</span>
        <span class="c1"># layer1 = tf.keras.layers.BuiltInLayer(...)</span>
        <span class="c1"># layer2 = MyCustomLayer(...)</span>

    <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">):</span>
        <span class="c1"># 此处添加模型调用的代码（处理输入并返回输出），例如</span>
        <span class="c1"># x = layer1(input)</span>
        <span class="c1"># output = layer2(x)</span>
        <span class="k">return</span> <span class="n">output</span>

    <span class="c1"># 还可以添加自定义的方法</span>
</code></pre></div>
<p>以下为自定义线性模型示例：</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Linear</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dense</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span>
            <span class="n">units</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">activation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">kernel_initializer</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">zeros_initializer</span><span class="p">(),</span>
            <span class="n">bias_initializer</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">zeros_initializer</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">):</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dense</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">output</span>
</code></pre></div>
<h2 id="optimizers">optimizers<a class="headerlink" href="#optimizers" title="Permanent link">&para;</a></h2>
<h3 id="adadelta">Adadelta<a class="headerlink" href="#adadelta" title="Permanent link">&para;</a></h3>
<p>实现 Adadelta 算法的优化器。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Adadelta</span><span class="p">(</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">rho</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-07</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Adadelta&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
<span class="c1"># learning_rate   学习率</span>
<span class="c1"># rho...          参见官方文档https://tensorflow.google.cn/api_docs/python/tf/keras/optimizers/Adadelta</span>
</code></pre></div>
<h3 id="adagrad">Adagrad<a class="headerlink" href="#adagrad" title="Permanent link">&para;</a></h3>
<p>实现 Adagrad 算法的优化器。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Adagrad</span><span class="p">(</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">initial_accumulator_value</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-07</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Adagrad&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
<span class="c1"># learning_rate                   学习率</span>
<span class="c1"># initial_accumulator_value...    参见官方文档</span>
<span class="c1">#                                 https://tensorflow.google.cn/api_docs/python/tf/keras/optimizers/Adagrad</span>
</code></pre></div>
<h3 id="adam">Adam<a class="headerlink" href="#adam" title="Permanent link">&para;</a></h3>
<p>实现 Adam 算法的优化器。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Adam</span><span class="p">(</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">beta_1</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">beta_2</span><span class="o">=</span><span class="mf">0.999</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-07</span><span class="p">,</span> <span class="n">amsgrad</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Adam&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
<span class="c1"># learning_rate   学习率</span>
<span class="c1"># beta_1...       参见官方文档https://tensorflow.google.cn/api_docs/python/tf/keras/optimizers/Adam</span>
</code></pre></div>
<h3 id="optimizer">Optimizer<a class="headerlink" href="#optimizer" title="Permanent link">&para;</a></h3>
<p>Keras 优化器的基类。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">Optimizer</span><span class="p">(</span>
    <span class="n">name</span><span class="p">,</span> <span class="n">gradient_aggregator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">gradient_transformers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="apply_gradients">apply_gradients()<a class="headerlink" href="#apply_gradients" title="Permanent link">&para;</a></h4>
<h4 id="from_config">from_config()<a class="headerlink" href="#from_config" title="Permanent link">&para;</a></h4>
<p>根据设置创建一个优化器。参见 <a href="#get_config()"><code>get_config()</code></a>。</p>
<h4 id="get_config_1">get_config()<a class="headerlink" href="#get_config_1" title="Permanent link">&para;</a></h4>
<p>返回优化器的设置。参见 <a href="#from_config()"><code>from_config()</code></a>。</p>
<h4 id="get_weights">get_weights()<a class="headerlink" href="#get_weights" title="Permanent link">&para;</a></h4>
<p>返回优化器的当前参数。</p>
<h4 id="minimize">minimize()<a class="headerlink" href="#minimize" title="Permanent link">&para;</a></h4>
<h4 id="set_weights">set_weights()<a class="headerlink" href="#set_weights" title="Permanent link">&para;</a></h4>
<p>设置优化器的参数。</p>
<h3 id="sgd">SGD<a class="headerlink" href="#sgd" title="Permanent link">&para;</a></h3>
<p>梯度下降优化器。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">optimizers</span><span class="o">.</span><span class="n">SGD</span><span class="p">(</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">momentum</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">nesterov</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;SGD&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
<span class="c1"># learning_rate   学习率</span>
<span class="c1"># momentum        动量因子</span>
<span class="c1"># nesterov        使用Nesterov动量</span>
<span class="c1"># name            </span>
</code></pre></div>
<h2 id="regularizers">regularizers<a class="headerlink" href="#regularizers" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">kernel_regularizer</span><span class="o">=</span><span class="n">keras</span><span class="o">.</span><span class="n">regularizers</span><span class="o">.</span><span class="n">l2</span><span class="p">(</span><span class="mf">0.001</span><span class="p">),</span>
                                              <span class="c1"># l2 regularization, coefficient = 0.001</span>
<span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">10000</span><span class="p">,)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="n">kernel_regularizer</span><span class="o">=</span><span class="n">keras</span><span class="o">.</span><span class="n">regularizers</span><span class="o">.</span><span class="n">l1_l2</span><span class="p">(</span><span class="n">l1</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">l2</span><span class="o">=</span><span class="mf">0.001</span><span class="p">),</span>                                    <span class="c1"># l1 &amp; l2</span>
<span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">layers</span><span class="o">.</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;sigmoid&#39;</span><span class="p">))</span>
</code></pre></div>
<h2 id="utils">utils<a class="headerlink" href="#utils" title="Permanent link">&para;</a></h2>
<h3 id="array_to_img">array_to_img()<a class="headerlink" href="#array_to_img" title="Permanent link">&para;</a></h3>
<p>将 NumPy 数组转换为 PIL 图像实例。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">array_to_img</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">img</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<h3 id="get_file">get_file()<a class="headerlink" href="#get_file" title="Permanent link">&para;</a></h3>
<p>从指定 URL 下载一个文件，如果其不在缓存中。返回到下载的文件的路径。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">get_file</span><span class="p">(</span>
    <span class="n">fname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">untar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">md5_hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file_hash</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">cache_subdir</span><span class="o">=</span><span class="s1">&#39;datasets&#39;</span><span class="p">,</span> <span class="n">hash_algorithm</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
    <span class="n">extract</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">archive_format</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">cache_dir</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<p>默认情况下位于 URL <code>origin</code> 的文件被下载到缓存目录 <code>~/.keras</code>，放置在缓存子目录 <code>datasets</code>，并被命名为 <code>fname</code>。因此文件 <code>example.txt</code> 的最终位置将是 <code>~/.keras/datasets/example.txt</code>。</p>
<p><code>tar</code>、<code>tar.gz</code>、<code>tar.bz</code> 和 <code>zip</code> 格式的压缩文件可以被解压。传入一个哈希值将会在下载后验证文件。</p>
<div class="highlight"><pre><span></span><code><span class="n">path_to_downloaded_file</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">get_file</span><span class="p">(</span>
    <span class="s2">&quot;flower_photos&quot;</span><span class="p">,</span>
    <span class="s2">&quot;https://storage.googleapis.com/download.tensorflow.org/example_images/flower_photos.tgz&quot;</span><span class="p">,</span>
    <span class="n">untar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h3 id="image_dataset_from_directory">image_dataset_from_directory()<a class="headerlink" href="#image_dataset_from_directory" title="Permanent link">&para;</a></h3>
<p>从目录中的图像文件生成一个 <code>tf.data.Dataset</code> 实例。</p>
<div class="highlight"><pre><span></span><code><span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">image_dataset_from_directory</span><span class="p">(</span>
    <span class="n">directory</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="s1">&#39;inferred&#39;</span><span class="p">,</span> <span class="n">label_mode</span><span class="o">=</span><span class="s1">&#39;int&#39;</span><span class="p">,</span>
    <span class="n">class_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_mode</span><span class="o">=</span><span class="s1">&#39;rgb&#39;</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">image_size</span><span class="o">=</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span>
    <span class="mi">256</span><span class="p">),</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validation_split</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">,</span> <span class="n">follow_links</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">crop_to_aspect_ratio</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="img_to_array">img_to_array()<a class="headerlink" href="#img_to_array" title="Permanent link">&para;</a></h3>
<p>将 PIL 图像实例转换为 NumPy 数组。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">img</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">array_to_img</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">img</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">img_to_array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</code></pre></div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    2023-12-11
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.tabs", "navigation.top", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/tex-mml-chtml.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.cs/net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>