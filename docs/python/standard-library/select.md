# select——等待 I/O 完成

`select` 模块提供了对系统调用 `select` 和 `poll` 的访问，它们在大多数操作系统中是可用的。

## select()

```python
select.select(rlist, wlist, xlist[, timeout])
```

Unix `select()` 系统调用的接口。前三个参数是由“可等待对象”组成的序列：可以是代表文件描述符的整数，或是带有名为 `fileno()` 的返回代表文件描述符的整数的无形参方法的对象:

* *rlist*：等待，直到可以开始读取
* *wlist*：等待，直到可以开始写入
* *xlist*：等待“异常情况”（请参阅当前系统的手册，以获取哪些情况称为异常情况）

允许空的可迭代对象，但是否接受三个空的可迭代对象则取决于具体平台（已知在 Unix 上可行但在 Windows 上不可行）。可选的 *timeout* 参数以一个浮点数表示超时秒数。当省略 *timeout* 参数时该函数将阻塞直到至少有一个文件描述符准备就绪。超时值为零表示执行轮询且永不阻塞。

返回值是三个列表，包含已就绪对象，返回的三个列表是前三个参数的子集。当超时时间已到且没有文件描述符就绪时，返回三个空列表。

可迭代对象中接受的对象类型包括 Python 文件对象 (例如 `sys.stdin` 以及 `open()` 或 `os.popen()` 所返回的对象)，由 `socket.socket()` 返回的套接字对象等。你也可以自定义一个 `wrapper` 类，只要它具有适当的 `fileno()` 方法（该方法要确实返回一个文件描述符，而不能只是一个随机整数）。
